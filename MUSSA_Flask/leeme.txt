# Ejecutar el script:
instalaciones.sh

#Instalar / Configurar base de datos MySQL
mysqladmin -uroot -p create mussa #Nos va a solicitar el password PASSWORD_DB
mysql -uroot -p #Nos va a solicitar el password PASSWORD_DB
mysql> use mussa;
mysql> grant all on * to 'mussa'@'localhost' identified by PASSWORD_ADMIN; #Se crea la password para el admin
Ctrl-D

# Copiar el archivo local_setting_example con el nombre local_settings
--> Cambiar en local settings la SQLALCHEMY_DATABASE_URI
SQLALCHEMY_DATABASE_URI = "mysql://mussa:PASSWORD_ADMIN@localhost/mussa"

#Inicializar la base de datos
python3 manage.py init_db

#Correr el servidor
python3 manage.py runserver

#Desde app, para actualizar las traducciones:
pybabel update -d translations -D flask_user -i translations/flask_user.pot
pybabel compile -d translations -D flask_user -f

#Iniciar los brokers
celery -A AsyncTasks.AsyncTaskGreedy.broker_generador_greedy worker --loglevel=debug
celery -A AsyncTasks.AsyncTaskPLE.broker_generador_plan_ple worker --loglevel=debug
celery -A app.API_Rest.GeneradorPlanCarreras.broker_guardar_plan_generado worker --loglevel=debug

