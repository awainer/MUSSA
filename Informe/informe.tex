\documentclass[a4paper]{article}

%%%%% Paquetes

\usepackage[spanish]{babel} 
\usepackage[utf8]{inputenc}
\usepackage{makeidx} %Indice
\usepackage{amsmath} %Ecuaciones sin numero al costado
\usepackage{graphicx} %Imagenes
\usepackage{fancyhdr} %Para encabezado y pie de pagina
\usepackage{float} %Para forzar la posicion de la imagen
\usepackage[hidelinks]{hyperref} %Para url y links
\hypersetup{colorlinks=false}

\usepackage{longtable} %Para tablas que ocupan mas de una hoja

% Para las notas al pie dentro de tablas o tabulaciones
\usepackage{tablefootnote}

%%%%% Paquetes

\begin{document}

\pagenumbering{gobble} %No numerar la primer pagina

\begin{titlepage}
	\centering
	\includegraphics{Imagenes/logo_fiuba.png}\par\vspace{1cm}
	{\scshape\LARGE Facultad de Ingeniería \par
	Universidad de Buenos Aires  \par}
	\vspace{1.5cm}
	{\Large\bfseries Trabajo Profesional de Ingeniería en Informática\par}
	\vspace{1.5cm}
	{\huge\bfseries MUSSA \par}
	\vspace{0.5cm}
	{\huge\bfseries Generador de Planes de Carrera personalizados\par}
	\vspace{1cm}
	{\Large\itshape Jennifer Andrea Woites\par}
	\vfill
	{\Large
	Tutor: Lic. Rosa Wachenchauzer \par
	\vspace{0.3cm}
	Co-Tutor: Ing. Diego Essaya}
	\vfill
% Bottom of the page
	{\large Abril, 2018 \par}
\end{titlepage}

  \newpage
  
  \pagenumbering{arabic} %Comenzar a numerar las paginas

  \tableofcontents % Indice
    
%%%% Cabecera y pie de pagina
  \pagestyle{fancy}
  \lhead{Jennifer Andrea Woites - Padrón: 93274}
  \rhead{}
  \renewcommand{\headrulewidth}{0.4pt} % grosor de la línea de la cabecera
%%%% Cabecera y pie de pagina

  \newpage


\section{Introducción}

El siguiente documento presenta el Trabajo Profesional de Ingeniería en Informática de la estudiante Jennifer Andrea Woites, padrón 93274. Los docentes que estuvieron a cargo son: Lic. Rosa Graciela Wachenchauzer como tutora del trabajo profesional, y el Ing. Diego Essaya como cotutor. \newline

El objetivo del proyecto es aplicar los conocimientos adquiridos en la carrera. \newline

El tema del trabajo profesional es <<MUSSA\footnote{Materias Universitarias en un Sistema Simplificado Automático} - Generador de Planes de Carrera personalizados.>> \newline

El objetivo general del presente trabajo, es la realización de una web responsive que permita a los alumnos la visualización de sus materias, la administración de las mismas, la utilización de encuestas y la generación de un plan de carrera en base a parámetros personalizados, siendo ésto último el ítem más importante del trabajo.

\subsection{Motivación}

Durante los años en que el alumno lleva adelante la carrera, muchas veces se ve obligado a no seguir con las materias tal como figuran en el plan por diversos motivos: cupos llenos en las cursos que prefiere, decisión para cursar con otros compañeros, necesidad de cursar menos materias por cuatrimestre, incompatibilidad laboral, razones personales, etc. Estos alumnos se ven forzados a tener que rediseñar el plan para poder acomodar las materias en un tiempo razonable de realización, que además sea compatible con las preferencias que él o ella tengan.

A esto, se suman materias que solo se dictan en el primer o segundo cuatrimestre, las correlatividades, entre otras, que dificultan la decisión de qué materia realizar antes que otra.

Luego, se debe tener en cuenta que en muchos de los planes de estudio, las materias electivas no están clasificadas por ramas o intereses y que es parte de las decisiones que debe tomar el alumno el elegir qué materias desea cursar, muchas veces decidiendo más por el nombre que por el contenido en sí porque no necesariamente sabe si le está aportando conocimiento en el área a la que le gustaría dedicarse. En otros casos, por comentarios de algunos compañeros que previamente cursaron dichas materias, es capaz de asesorarse y decidir con un razonamiento más amplio.

Actualmente, la decisión de qué materia se cursa primero y cuál después, se toma "manualmente", es decir, se observa el punto en el que se está parado y se decide en base a lo mejor que se puede hacer en el corto plazo ya que es muy difícil observar el panorama completo cuanto más lejos de la meta se está.

En el marco de re inserción de alumnos que han abandonado la carrera y que le restan pocas materias por recibirse, es útil poder contar con una herramienta que priorice las materias en base a los tiempos que esta persona tiene disponible y tratar de recomendarle los mejores cursos para que pueda recibirse con prontitud, de forma de poder incrementar el número de profesionales recibidos en Argentina.

Se busca entonces, poder facilitar estas tareas a través de una plataforma web que permita obtener la información requerida para clasificar las materias (por ejemplo, a través de las encuestas), que facilite la generación de las notas para trámites como pedidos de créditos o excepciones de correlatividades que han de presentarse en la facultad posteriormente, y que, a través de parámetros configurados por el usuario, pueda armar automáticamente un plan de carrera que se ajuste a sus necesidades, pudiendo ser mutado si las mismas cambian con el paso del tiempo.

\section{Alcance}

El alcance del trabajo es:

\begin{enumerate}
	\item Desarrollar una página web responsive que conste de los siguientes:
		\begin{itemize}
			\item Login / Sign In / Cambio de Contraseña
			\item Almacenamiento y edición de datos personales, carreras, materias aprobadas / desaprobadas / con final pendiente / en curso
			\item Materias habilitadas para cursar
			\item Formularios: Nota al decano y listado de materias
			\item Encuestas de cursos / docentes
			\item Busquedas de materias con filtros
			\item Visualizar y Generar Plan de Estudios
		\end{itemize}

	\item Permitir la administración desde la web:
		\begin{itemize}
			\item Cursos
			\item Docentes
			\item Carga de horarios desde PDF
		\end{itemize}
		
	\item Modelar y desarrollar el algoritmo para la generación del plan de estudios personalizada
\end{enumerate}

\section{Tecnologías y Herramientas}

A continuación se detallan las herramientas y tecnologías más importantes que fueron utilizadas durante el desarrollo del trabajo.\newline

Como entorno de desarrollo se había elegido Sublime, pero posteriormente se cambió a Intellij IDEA ya que proveía de el debugger incorporado y otras funcionalidades básicas que no estaban disponibles en Sublime.\newline

Para el control de versiones fue utilizado GitHub\footnote{El proyecto MUSSA se encuentra en \url{https://github.com/jennywoites/MUSSA}}.\newline

Para la administración del proyecto se utilizó GDocs y Trello.\newline

Para la generación de documentación, tanto de la propuesta como del presente informe se utilizó Latex.\newline

Se eligió como lenguaje Python junto a Flask\cite{FLASK_OFICIAL} para el backend. Flask fue elegido a pesar de no tener experiencia por estar escrito en Python y ser un framework minimalista con una curva de aprendizaje relativamente rápida.\newline

El frontend fue desarrollado con HTML5, JavaScript, CSS y Bootstrap\cite{BOOTSTRAP} para que sea responsive.\newline

Para la base de datos se eligió MySQL\cite{MYSQL}. Además fue utilizado SQLAlchemy\cite{SQLALCHEMY_OFICIAL} como ORM\footnote{ORM: Object Relational Mapper. Un ORM simplifica el acceso a una base de datos por parte del programador convirtiendo toda sentencia sql a operaciones con objetos.}.\newline

La máquina con la que fueron realizadas las pruebas tiene las siguientes características:
\begin{itemize}
	\item CPU: Procesador Intel Core i3-2330M
	\item RAM: 10 GB
\end{itemize}
por lo que los tiempos de los algoritmos de generación del plan podrían mejorar si se tuviese una máquina con mejores características.\newline

Para el comienzo del proyecto se utilizó Flask-User\cite{FLASK_USER}. Este proyecto ofrece una estructura inicial con las acciones básicas de login/signin y manejo de contraseñas. Fue dicifil de configurar al principio ya que no se tenía experiencia con Flask en general, pero una vez configurado solo hizo falta realizar las customizaciones correspondientes. El problema principal que se tuvo al utilizar Flask-User en lugar de haber realizado los servicios manualmente es que cuando se quiso desarrollar la API no se la pudo independizar completamente del proyecto ya que sino, requería solucionar el cross domain o realizar una autenticación en ambos puntos. Como punto a favor es que simplificó mucho el desarrollo de esa sección y que proveyó de una estructura básica al proyecto en general.\newline

Para poder realizar los planes de forma asincónica, se utilizó Celery\footnote{Celery es una cola de tareas asincónica open source basada en el pasaje de mensajes distribuido}\cite{CELERY} para la cola de tareas asincónica junto a Redis\footnote{Redis es un almacén de estructura de datos de valores de clave en memoria rápido y de código abierto}\cite{REDIS} como estructura para los datos de las tareas.\newline

Para la generación del plan con el algoritmo de programación lineal entera, se utilizó PuLP\cite{PULP_PYTHON}. PuLP es una librería Open Source escrita en Python. Es usada para describir problemas de optimización como modelos matemáticos. PuLP puede llamar a numerosos solvers de programación lineal, tales como CBC, GLPK, CPLEX, Gurobi, etc, para resolver el modelo y luego utilizar comandos de Python para manipular y mostrar el resultado de la solución. Durante el desarrollo del algoritmo se probaron diferentes solvers, pero finalmente fue elegido CBC ya que fue el que mejor repsondía en tiempos para el algoritmo ejecutado además de ofrecer multi-threading para la resolución del problema.

\newpage
\section{Página Web MUSSA: Acceso Público}

\subsection{Carreras y materias de la facultad}

Las diferentes carreras de la facultad están compuestas por una serie de materias obligatorias, posibilidad de un idioma obligatorio, posibilidad de rendir un examen de suficiencia de idioma, materias electivas, trabajo profesional, tesis, etc.

Para esta primer implementación se cargaron y modelaron los planes de estudios de Ingeniería en Informática y Licenciatura en Análisis de Sistemas (1986, plan `viejo'). Posteriormente en futuras implementaciones, se añadirán las carreras restantes.\newline

Cada materia tiene como datos su código, el nombre, los diferentes cursos disponibles con sus docentes y horarios, la cantidad de créditos y sus correlatividades.

Los horarios de los cursos de las materias mantienen un histórico, y se agrega una nota visual en caso de que sea un curso nuevo (en cuyo caso se repiten los horarios del cuatrimestre actual para el cuatrimestre faltante). Para cada curso de la materia, se indica si se dicta el 1º cuatrimestre, el 2º o ambos. Los cursos que no se dicten ningun cuatrimestre ya no serán mostrados en la oferta horaria, pero quedarán disponibles para que el administrador los pueda volver a habilitar.

Se decidió que cada materia de las diferentes carreras sea tratada como un objeto diferente por más que compartan el código, ya que lo más usual es que las correlativas sean diferentes, que una sea obligatoria de una carrera y de la otra sea electiva y a veces que no todos los cursos estén disponibles para ambas.

Los cursos en cambio, se modelarán como uno solo para el mismo código y se indicará las carreras para las que se encuentra habilitado. En el caso de los cursos que dictan diferentes códigos de materias en el mismo horario, serán tratados como cursos independientes.

Los docentes podrán estar vinculados a uno o más cursos.\newline

Desde el acceso público, se podrán hacer búsquedas de materias, búsquedas de docentes, ver algunos links útiles e información de las comisiones por carrera y los datos de contacto del proyecto en caso de que quieran hacer aportes al proyecto.\newline

\begin{figure}[H]
\centering
\includegraphics[scale=0.25]{Imagenes/pagina_inicio.png}\par
\caption{Página Inicio de MUSSA}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/links_utiles.png}\par
\caption{Links Útiles}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/comisiones.png}\par
\caption{Comisiones por carrera}
\end{figure}

\subsection{Búsqueda de Docentes}

La búsqueda de docentes se realiza buscando por parte del apellido o parte del nombre (no requiere que comience con las letras indicadas sino que éstas se encuentren en el campo indicado).

Como resultado se listarán todos los docentes que cumplan con el criterio de búsqueda. Para ellos, se podrá visualizar el nombre (si lo tienen) y el apellido, además de las materias que dicta. Luego, desde allí se puede acceder a las encuestas asociadas a éste docente.

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/buscar_docentes.png}\par
\caption{Búsqueda de docentes}
\end{figure}

\subsection{Resultados de Encuestas de Docentes}

Para un docente dado, se puede acceder a las encuestas del mismo. Allí, se mostrará el detalle de las materias que dicta con su curso correspondiente y se podrán acceder a las encuestas por cuatrimestre o ver todas reunidas en un mismo lugar.

Ya sea en la visualización por cuatrimestre o en la vista completa, los comentarios realizados al docente se agruparán por curso en que dicta.

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/resultados_encuesta_docente.png}\par
\caption{Lista de resultados de encuestas para un docente dado}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/resultados_encuesta_cuatrimestre_docente.png}\par
\caption{Resultados de encuestas docente para un cuatrimestre específico}
\end{figure}

\subsection{Búsqueda de Materias}

La búsqueda de materias se podrá realizar filtrando por los siguientes datos:

\begin{itemize}
	\item Carrera
	\item Código de materia
	\item Nombre (o parte del nombre) de la materia
	\item Palabras clave
\end{itemize}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/buscar_materias.png}\par
\caption{Búsqueda de Materias}
\end{figure}

Para cada materia se podrán acceder a los datos generales de la misma, en los que se indicará la carrera, la cantidad de créditos, el link a la materia equivalente para otra carrera, las correlativas y el listado de cursos.
En el listado de cursos es posible visualizar el puntaje del mismo (están ordenados por este criterio), y desde allí se puede acceder a los resultados de las encuestas del curso.

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/ver_materia_datos_generales.png}\par
\caption{Visualización de una materia}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/ver_materia_cursos.png}\par
\caption{Cursos de una materia}
\end{figure}

\subsection{Resultados de Encuestas de un curso}

En los resultados de las encuestas de un curso, se pueden visualizar las mismas por cada cuatrimestre para el que haya encuestas finalizadas o como un compilado de todas las respuestas.

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/listado_resultados_encuesta_curso.png}\par
\caption{Cursos de una materia}
\end{figure}

Los resultados de las encuestas por curso están divididos en 5 secciones: General, Contenido, Clases, Exámenes y Docentes. Algunas de las respuestas se visualizan como textos, otras como nubes de palabras, otras con gráficos de torta y/o de barras, otras con tablas y otras con mapas de calor. La forma de visualizar los datos dependerá del tipo de pregunta.

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/secciones_resultados_encuesta.png}\par
\caption{Secciones de los resultados de la encuesta}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/resultados_texto.png}\par
\caption{Ejemplo visualización de resultados de textos}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/resultados_grafico_torta_y_barras.png}\par
\caption{Ejemplo visualización de resultados con gráfico de torat y de barras}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/resultados_con_tabla.png}\par
\caption{Ejemplo visualización de resultados con tabla}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/resultados_nubes_de_palabras.png}\par
\caption{Ejemplo visualización de resultados con nubes de palabras}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/resultados_con_mapa_de_calor.png}\par
\caption{Ejemplo visualización de resultados con mapa de calor}
\end{figure}

\newpage
\section{Página Web MUSSA: Usuarios}

\subsection{Login / Sign In / Cambio de contraseñas}

Tal como se indicó en la sección de herramientas y tecnologías para el dearrollo de esta sección fue utilizado Flask-User y luego customizado el mismo.

Para registrarse es necesario ingresar un e-mail, el nombre, apellido y una contraseña. Esto enviará un email a la diracción indicada para que confirme la registración. Una vez confirmada ya podrá ingresar normalmente al sistema utilizando solamente el e-mail y la contraseña. El padrón no es solicitado en la registración pero se podrá guardar desde los datos académicos, de esta forma los alumnos del CBC podrán hacer uso del sistema incluso antes de tener un padrón asignado.

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/registracion.png}\par
\caption{Registración de usuario}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/iniciar_sesion.png}\par
\caption{Inicio de sesión}
\end{figure}

En el caso de que el usuario haya olvidado su contraseña podrá ingresar a la sección correspondiente e ingresando el e-mail solicitar el cambio. Solo se le enviará el link de recupero de contraseña al e-mail que esté registrado. En ese e-mail recibirá el link para realizar el cambio de contraseña.
Es posible también cambiar la contraseña una vez ingresado al sistema en caso de que el usuario no la haya olvidado y simplemente desee modificarla desde el perfil del usuario.

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/olvido_clave.png}\par
\caption{Recuperar contraseña}
\end{figure}

\subsection{Perfil de usuario}

El usuario registrado podrá modificar su nombre y/o apellido desde su perfil. Se decidió que no se almacenarán otros datos sensibles como el DNI, domicilio o teléfono.\newline

Desde el registro académico el usuario podrá ingresar un padrón (no obligatorio). Si ingresa el padrón, éste debe ser único, es decir que no debe haber otro usuario que ya posea ese padrón.
El alumno podrá registrar la/s carrera/s en la/s que se encuentra inscripto.\newline 

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/padron_y_carreras.png}\par
\caption{Padrón del alumno y carreras en las que está inscripto}
\end{figure}

Al inscribirse en una carrera, se le habilitarán las materias de la misma para que pueda agregarlas como `En curso', `Con Final Pendiente', `Desaprobada' o `Aprobada'.Si una materia se desaprueba, entonces se vuelve a habilitar la materia para ser agregada, pero ésta debe tener la cursada en un cuatrimestre posterior (ya que si fue aprobada no se puede volver a cursar).
Al agregar una materia no se hace la verificación de correlativas ya que no se desea restringir la carga, especialmente porque esta versión del proyecto aún no incluye las excepciones de correlatividades.\newline

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/agregar_materia.png}\par
\caption{Agregar Materia Alumno}
\end{figure}

Cuando se carga una materia es posible elegir el curso en el que está siendo cursada / fue cursada dicha materia. En el caso de las materias del CBC no hay cursos disponibles. En el caso de que el curso en el que fue realizada la materia ya no esté disponible (o que el alumno ya no recuerde el curso por algún motivo), es posible indicar que no se seleccionará curso. Cuando la materia no tiene un curso seleccionado no genera entrada de encuesta, ya que cada encuesta está asociado a un curso en particular y no a la materia en general.\newline

La visualización de las materias se puede realizar con las materias de todas las carreras al mismo tiempo, o filtrándolas por carrera. En caso de que se seleccione una carrera en paricular (o solo se esté isncripto a una carrera), se mostrará además el progreso.\newline

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/mis_materias_todas.png}\par
\caption{Listado de materias de todas las carreras en las que el alumno está inscripto}
\end{figure}

El progreso indica el porcentaje de avance total de la carrera, el promedio obtenido y el porcentaje de avance en cada uno de los requerimientos de la carrera (cantidad de materias del CBC, créditos en electivas, créditos en materias obligatorias, créditos en materias de orientación (si corresponde), créditos en trabajo final de la carrera (tesis o trabajo profesional si corresponden)).\newline

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/progreso_licenciatura.png}\par
\caption{Progreso y materias filtradas Licenciatura en Análisis de Sistemas}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/progreso_informatica.png}\par
\caption{Progreso y materias filtradas Ingeniería en Informática}
\end{figure}

\subsection{Materias habilitadas para cursar}

En base a las materias que el alumno tiene `Aprobadas' (no incluye las de final pendiente), se mostrará el listado de materias habilitadas para cursar. Como las correlatividades no son transitivas puede suceder que el alumno haya agregado que aprobó Análisis Matemático II pero aún no haya aprobado las materias del CBC, en ese caso se le mostrarán como habilitadas las materias del CBC ya que no poseen ninguna correlativa y todas aquellas materias que sólo hayan tenido a Análisis Matemático II como única correlativa. Posteriormente cuando en futuros desarrollos se agreguen las excepciones de correlatividades, en este punto se mostrarán también aquellas materias que pueden ser cursadas con pedido de excepción ya que se puede decir que estarían `habilitadas'.

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/que_puedo_cursar.png}\par
\caption{Listado de materias habilitadas para cursar separados por carrera inscripta}
\end{figure}

\subsection{Formularios}

El alumno puede generar formularios PDF. Los formularios disponibles para esta versión son la nota al decano (formulario más genérico que es solicitado para la mayoría de los trámites) y el listado de materias.

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/listado_formularios.png}\par
\caption{Formularios disponibles}
\end{figure}

Para el caso del listado de materias se pueden seleccionar las carreras (de las que está inscripto) que desea incluir. Además se debe seleccionar si se desean incluir sólo las materias aprobadas y desaprobadas, las de final pendiente, las que están en curso o más de una de ellas.

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{Imagenes/formulario_listado_materias.png}\par
\caption{Configuración formulario listado de materias}
\end{figure}

Para la nota dirigida al decano, se debe establecer el objeto y motivo de la nota. Además se deben indicar los datos personales y de contacto que son solicitados por este modelo. Opcionalmente, se puede ingresar una nota extendiendo los motivos de la solicitud.
Tal como lo solicita el template publicado por la facultad, además de estos datos añadirá el listado de materias aprobadas, desaprobadas, con final pendiente y en curso según corresponda.

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/formulario_nota_al_decano.png}\par
\caption{Formulario: Nota dirigida al decano}
\end{figure}

\subsection{Encuestas}

Cuando se agrega una materia con final pendiente, aprobada o desaprobada con un curso específico, se crea una entrada para completar la encuesta correspondiente. Cada alumno tendrá su listado de encuestas realizadas y podrá contestar una sola vez la combinación [curso + cuatrimestre + año] que corresponde a la materia que ha agregado a su historial.

Mientras que haya encuestas pendientes, se mostrará un ícono en el menú correspondiente. Cuando las encuestas pendientes son finalizadas el ícono desaparecerá.

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/notificacion_encuestas.png}\par
\caption{Notificación de encuestas pendietes}
\end{figure}

En la sección de encuestas se pueden encontrar las encuestas pendientes para ser completadas y visulizar las encuestas que ya fueron finalizadas por el alumno.

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/historial_de_encuestas.png}\par
\caption{Historial de encuestas / Encuestas pendientes}
\end{figure}

Cada encuesta a completar cuenta con preguntas en 5 secciones: General, Contenido, Clases, Exámenes y Docentes. Cada una de las secciones es guardada de forma parcial de forma que se pueda comenzar con la encuesta en un momento y continuarla más adelante. Una vez que la encuesta se finaliza (y se la guarda como tal) ya no podrá ser editada.

Las preguntas de las encuestas incluyen el puntaje del curso, horario real de cursada, dificultad de los temas, régimen de aprobación, comentarios de los docentes, etc.

Se incluye también una pregunta para indicar la temática de la materia (que será utilizada para clasificar las materias electivas en la generación del plan de carrera) y palabras clave (que son utilizadas en la búsqueda de materias).

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/completar_encuesta.png}\par
\caption{Encuesta para completar}
\end{figure}

La encuesta ha sido modelada como un set de preguntas, donde cada pregunta puede ser de un tipo diferente y conforme a ello será la manera en que será renderizada en la web. Entre los tipos de preguntas se encuentran las de texto, horarios, correlativas, números, estrellas, puntaje, entre otras.\newline

Los resultados de las encuestas que se pueden ver también desde el modo público, solo incluyen las encuestas que ya han sido finalizadas.

\subsection{Generación y Visualización del Plan de Carrera}

Para permitir el armado del plan, se deberán poder establecer las preferencias del alumno. Las preferencias básicas que pueden elegirse son:

\begin{itemize}
	\item Carrera (Orientación y Trabajo Final de Carrera si corresponde)
	\item Máxima cantidad de materias por cuatrimestre
	\item Horarios en los que el alumno no puede cursar
	\item Cursos específicos en los que el alumno quiera cursar (puede elegir uno, niguno o varios cursos). Se elige el curso pero no en qué cuatrimestre éste será cursado.
\end{itemize}

Además, en caso de tener materias con final pendiente, se deberá indicar cuándo se puede considerar la materia como aprobada, de forma tal que se restrinja el cuatrimestre mínimo de las materias que la tienen como correlativa.

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/preferencias_generacion_plan.png}\par
\caption{Preferencias para generación del plan de estudios}
\end{figure}

Adicionalmente, se podrán establecer las siguientes opciones avanzadas:

\begin{itemize}
	\item Algoritmo de generación del plan: PLE (Programación Lineal Entera) o Greedy
	\item Máxima cantidad de cuatrimestres de duración del plan (el algoritmo siempre tratará de minimizarlos)
	\item Puntaje mínimo requerido para los cursos: Los cursos no puntuados tienen un puntaje de 0. La restricción de puntaje no es tenida en cuenta en el caso de los cursos que se seleccionan manualmente. Las materias que se elijan no tendrán un puntaje menor al seleccionado a menos que sean obligatorias con un único curso disponible. En estos casos siempre se seleccionará en orden la de mayor puntaje con mayor cantidad de encuestas completas.
	\item Máxima cantidad de horas de cursada, por semana
	\item Máxima cantidad de horas de trabajo extra además de la cursada, por semana
	\item Cuatrimestre y Año de inicio del plan (se selecciona el cuatrimestre y año actual por defecto). Este dato es importante no solo para la visualización sino también porque hay algunas materias que solo se dictan el 1º o 2º cuatrimestre.
	\item Preferencias de temáticas de las materias electivas: El porcentaje indicado será el porcentaje mínimo de cada temática respecto del total de créditos en electivas restantes que debe realizarse. Si una materia tiene más de una temática elegida, sus créditos serán contandos para ambos porcentajes.
\end{itemize}

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/preferencias_avanzadas_generacion_plan.png}\par
\caption{Preferencias Avanzadas para generación del plan de estudios}
\end{figure}

Cuando el plan esté generado, se mostrará una notificación en el menú.

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/notificacion_plan_generado.png}\par
\caption{Notificación Plan Generado no visualizado}
\end{figure}

Es posible visualizar el listado de los planes de estudio que se han solicitado. Cada uno de ellos tendrá el estado `En curso' (aún se está generando o está en la cola de espera), `Incompatible' (no hay una solución óptima que cumpla con los parámetros indicados) o `Finalizado' (plan compatible finalizado de generar).

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/historial_planes_generados.png}\par
\caption{Historial Planes Generados}
\end{figure}

Los planes que se encuentren en estado `Finalizado' o `Incompatible' se los podrá eliminar.

Los planes que se encuentren en estado `Finalizado' pueden ser visualizados.

La visualización del plan de estudios consiste en el listado de los cuatrimestres con las materias para cada uno de ellos. En el caso de que se hayan cargado materias que no hayan sido contempladas en el momento de la generación del plan, éstas serán agregadas en el cuatrimestre correspondiente y eliminadas del asignado originalmente (si corresponde).

Las materias con estados diferentes se mostrarán con otros colores para facilitar la diferenciación entre ellas.

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/vista_plan_generado.png}\par
\caption{Visualización Plan Generado}
\end{figure}

\newpage
\section{Página Web MUSSA: Acceso Administrador}

El usuario con rol de administrador tiene habilitado un menú de Administración para los horarios, los cursos y los docentes.

\subsection{Administrar Horarios}

Los horarios y los cursos son cargados al sistema a través del PDF que es publicado por la Facultad todos los cuatrimestres. Esta es la única fuente de datos disponible desde la facultad para obtener los datos de los horarios completos, ya que la otra opción implica parsear una página web desde el sistema SIU Guaraní.

Cuando se carga el PDF se verifica que los horarios que se están cargando no se hayan cargado antes y que el cuatrimestre y año sea superior al último que se cargó (para que no se carguen horarios viejos modificando los datos actuales).

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/administrar_horarios.png}\par
\caption{Carga de Horarios PDF}
\end{figure}

Al principio se consultó con la facultad para poder tener un servicio y obtener estos datos (entre otros) y se tuvo una respuesta negativa.

El problema con este mecanismo es que el PDF la facultad lo publica y suele contener muchos errores que son corregidos conforme pasan las semanas en el SIU Guaraní, pero no se vuelve a publicar el archivo, por lo que los horarios erróneos deben modificarse manualmente con la administración de cursos. En versiones futuras, se desea agregar a los alumnos la opción de reportar cursos con datos incorrectos de forma de que se simplifique la tarea del administrador.

Debido a estos errores, lo ideal es utilizar el PDF actual como carga inicial y luego facilitar un administrador con un nuevo rol habilitado para cada departamento, de forma que cada departamento pueda hacer los cambios de los cursos que se han cambiado solo ese cuatrimestre y no de todos. Es ideal que los departamentos luego quieran utilizar el sistema, ya que podrían hacer uso de las encuestas para monitorizar los cursos correspondientes y poder hablar con los docentes ya sea para felicitarlos o para solicitarles que realicen ajustes en sus materias.

Otro problema que se tiene con el PDF es que los docentes que figuran en los cursos no son todos los que el curso realmente tiene, por lo que habría que agregar el resto del equipo docente manualmente si se quiere poder tener encuestas de ellos. Además, la única referencia al docente es su apellido, por lo que no es posible saber si el docente con apellido X que da la materia M1 es el mismo (o no) que el docente con apellido X que dicta la materia M2. Este link de docentes debe realizarse manualmente desde la administración de docentes.

\subsection{Administrar Cursos}

En la administración de cursos es posible visualizar y buscar los cursos por código de materia; ver los docentes que lo dictan, las carreras para las cuales está habilitado y en qué cuatrimestre se dicta.

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/administrar_cursos.png}\par
\caption{Administración de Cursos}
\end{figure}

Cuando se cargan los horarios PDF de un cuatrimestre, se dan de alta todos aquellos cursos nuevos (un curso es nuevo si el código/número de curso no existe para ese código de materia) y se marca como que se dicta ambos cuatrimestres, pero que es curso nuevo, registrando el cuatrimestre que fue actualizado (el 1º o el 2º). El curso seguirá siendo nuevo hasta que esté registrado en ambos cuatrimestres. Que esté registrado no quiere decir que se dicte en ambos, sino que se cargaron horarios tanto del 1º cuatrimestre como del 2º desde que el curso se dio de alta.

Si el curso ya existía, entonces se actualiza la lista de docentes y los horarios en los que es dictada la materia.

Al editar un curso, es posible modificar las carreras para las cuales está habilitado, agregar o quitar docentes del curso y modificar los horarios del mismo.

\begin{figure}[H]
\centering
\includegraphics[scale=0.35]{Imagenes/modificar_curso.png}\par
\caption{Edición de un curso}
\end{figure}

\subsection{Administrar Docentes}

En la administración de docentes, es posible agrupar los docentes que se seleccionen. El agrupamiento sólo se permite si todos los docentes a agrupar tienen mismo apellido y nombre (o no tienen nombre). De esta forma, es posible solucionar el problema del docente con apellido X que dicta la materia M1 y otro docente con apellido X que dicta la materia M2, siempre que el administrador posea este conocimeinto.

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/administrar_docentes.png}\par
\caption{Administración de Docentes}
\end{figure}

Al editar un docente, es posible cambiar su nombre, apellido, y cursos que dicta. Se debe tener especial cuidado en que la modificación de estos, como el nombre y el apellido, ya que las encuestas que estén vinculadas a este id docente seguirán estando vinculadas pero mostrarán un nombre diferente del que mostraban originalmente (mostrarán el nombre actualizado). Estos cambios deben realizarse sólo en caso de errores de escritura o de falta de datos y no para modificar un docente por otro.

\begin{figure}[H]
\centering
\includegraphics[scale=0.3]{Imagenes/editar_docente.png}\par
\caption{Edición de un Docente}
\end{figure}

\newpage
\section{Algoritmos para la generación del Plan de Estudios personalizado}

Se analizaron varios algoritmos y se decidió utilizar un algoritmo que combina Greedy con un algoritmo de Fuerza Bruta; y por otro lado un algoritmo de Porgramación Lineal Entera. Éste último fue inspirado en un paper\cite{PLE_HORARIOS_UNIV} en el cuál utilizaban este tipo de algoritmos para la asignación de horarios en base a la disponiblidad de aulas y docentes.

Se analizaron los papers\cite{PLE_HORARIOS_UNIV, MODELOS_PLE, PAPER_ROSITA_PLANNING_WITH_PREFERENCES_1, PAPER_ROSITA_PLANNING_WITH_PREFERENCES_2, PAPER_ROSITA_PLANNING_WITH_PREFERENCES_3, PAPER_ROSITA_PLANNING_WITH_PREFERENCES_4} sobre algoritmos de programación basados en preferencias, pero se decidió descartarlos ya que la similaridad con el algoritmo a desarrollar no era tan próxima. Estos algoritmos se basan en tomar decisiones basados en una preferencia del usuario a partir de otra decisión tomada; por ejemplo: si elegí ir en avión con la compañía C1 a la ciudad X, entonces prefiero pagar (si aún es posible) con la tarjeta T1 sobre la tarjeta T2 y sobre efectivo, ya que T1 aplica mejores descuentos para ir en avión con C1. En el caso del algoritmo del plan de estudios las preferencias no son condicionadas a otras decisiones sino que afectan al todo.

\subsection{Arquitectura y Flujo General}

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/arquitectura.png}\par
\caption{Arquitectura MUSSA}
\end{figure}

En la arquitectura elegida, se desacoplan las cuatro acciones necesarias para la generación del plan: la solicitud, el procesamiento, la persistencia y la notificación. Esto se logra transformando estas acciones en tareas asíncronas utilizando Celery como manejador de tareas y Redis como cola de trabajo.

Cada tarea, dispondrá de un cluster de servidores (workers)  para el procesamiento de manera que se puede controlar la velocidad (throughput) mediante la configuración de threads en paralelo y cantidad de workers.\newline

Cuando se solicita la generación del plan de estudios desde el browser, se invoca a la API (es posible tener varias instancias levantadas en el servidor). Ésta, realiza la configuración de parámetros, filtrando las materias en base a las aprobadas, horarios incompatibles, etc.

Luego se genera el hash con los parámetros relevantes y se verifica si fue generado anteriormente un plan de estudios con esas mismas características. Si fue generado, se crea el plan copiando los datos de la base de datos de los ids de las materias para el nuevo plan. Sino, se envía la tarea al broker correspondiente donde es encolada. El broker dependerá del algoritmo elegido ya que ambos funcionan independientemente de forma tal que sea posible configurar en el servidor los recursos asignados según el uso y los tiempos que se vayan registrando a medida que se utilice el sistema.

Cuando el worker correspondiente esté disponible, tomará la tarea y generará el plan. Una vez generado, se crea la tarea de guardado que se encola en el broker de guardado del plan, que es el único que accede a la base de datos por pertenecer a la API.

Cuando el worker está disponible, se guarda el hash con los datos de las materias (además del plan solicitado) para poder ser utilizado la siguiente vez. De esta forma, aunque el algoritmo tarde varios minutos, la siguiente vez que se genere ya no será necesario todo este tiempo.

Una vez que el plan queda en estado finalizado, se notifica al usuario.\newline

Por otra parte, se considera la posibilidad de escalar la capacidad del frontend y la API anteponiendo un balanceador de carga HTTP (por ejemplo haproxy\footnote{\url{https://www.haproxy.org/}} o AWS ELB\footnote{Amazon Web Services Elastic Load Balancer - \url{aws.amazon.com/elasticloadbalancing}}) y la cantidad necesaria de servidores detrás. Esto permite agregar capacidad dinámicamente para soportar los picos de carga que se producen en períodos de inscripciones sin tener esa capacidad ociosa durante el resto del tiempo. 


\subsection{Configuración de Parámetros}
Cuando se solicita la generación del plan de estudios, y antes de realizar el hash para verificar si el plan fue generado anteriormente o se requiere generar, se realiza un filtrado de las materias.

Se parte del plan completo para la carrera elegida y se actualizan los créditos requeridos en materias electivas, obligatorias de orientación etc. dependiendo de la orientación y trabajo final de carrera elegidos (si corresponde). Se cargan las materias incompatibles que determinarán aquellas materias que no pueden cursarse si se aprobó otra de ellas (por ejemplo, como sucede con las materias de idiomas que sólo es posible cursar una de ellas).

Se eliminan del listado de materias aquellas que el alumno ya aprobó y las que aún se encuentran con final pendiente pero se darán por aprobadas. En el caso de que la materia no se de por aprobada desde el momento de la generación del plan sino en cuatrimestres posteriores, se actualiza con estas últimas el cuatrimestre mínimo que requieren aquellas materias que tienen a la que se dará por aprobada como correlativa.

Se separan las materias del CBC (que siempre serán agregadas en grupos de tres al principio del plan generado) y se configuran como materias obligatorias aquellas de la orientación elegida y como electivas aquellas de las otras orientaciones (si corresponde). Además, se copia el trabajo profesional para dividirlo en dos `submaterias' ya que debe realizarse en dos cuatrimestres consecutivos.

Se elijen los cursos específicos definidos por el usuario. Si la materia era electiva se la transforma en obligatoria con ese único curso disponible y se actualizan los créditos requeridos en materias electivas. Se verifica que los horarios de los cursos que se van a agregar como disponibles cumplan con la restricción de los horarios en los que el alumno no puede cursar. Si no la cumplen, esos cursos son eliminados.

Se verifica además el puntaje del curso antes de agregarlo. Si el curso es de una materia electiva y no cumple con el puntaje mínimo, es decartado. Si la materia es obligatoria y no hay ningún curso que cumpla con el puntaje mínimo, se agregarán aquellos cursos con mayor puntaje (de forma que sea el más alto poisble aunque no cumpla con la restricción).

Se actualizan los cŕeditos en electivas, actualizando el valor a 0 si se hicieron más electivas que las requeridas. Y en el caso de haber completado los créditos en electivas, se eliminan del listado todas las materias electivas ya que no es necesario cursar ninguna más de ese tipo.

Se actualizan los créditos mínimos por temática. Estos valores se calcularán como la cantidad de créditos mínimos necesarios para cada tipo de temática aplicando el porcentaje a la cantidad de créditos mínimos en materias electivas general. Una materia puede tener más de una temática, en cuyo caso sus créditos contarán para todas las temáticas requeridas (que la materia también poseea) de igual manera.

Se determina si el primer cuatrimestre será par o impar (debido a que no todas las materias se dictan en el 1º y 2º cuatrimestre), utilizando como datos de entrada el cuatrimestre de inicio del plan determinado por el usuario y la cantidad de cuatrimestres que ocuparán las materias del CBC (considerando que se distribuyen de hasta 3 materias por cuatrimestre independientemente de la configuración del usuario para el resto de la generación del plan).

Se verifica que todas las materias obligatorias tengan cursos disponibles (ya que pueden haber sido eliminadas por incompatibilidad de horarios con el usuario). En ese caso, se le muestra el error al usuario y se le indica el listado de materias obligatorias que requieren que elija el curso manualmente si desea mantener las restricciones actuales (ya que éstas no son aplicadas a los cursos elegidos manualmente) o para que modifique las restricciones.

Se eliminan del listado aquellas materias que hayan quedado sin cursos disponibles y se eliminan las incompatibles que ya no pertenezcan al plan (porque se las haya eliminado o aprobado en pasos anteriores).

Se verifica que los créditos en materias electivas (con las materias que han quedado disponibles) sean suficentes para cumplir con los créditos mínimos (tanto de forma general como por temática elegida). Si no son suficientes, entonces le muestra un mensaje al usuario indicando que no es posible generar el plan con esos parámetros (esto puede deberse a que la restricción de horarios es muy fuerte y por eso se eliminaron muchas materias electivas, porque no cumplen con el puntaje mínimo, etc.).

A continuación, se actualizan los horarios con las franjas mínimas y máximas y los días de las semana no utilizados. Al modificar los horarios para que el horario de finalización sea en una franja menor, reduce las comparaciones en el caso del algoritmo Greedy, y en el caso del algoritmo de PLE reduce significativamente las ecuaciones.

Finalmente se genera el hash con los parámetros. Si este hash existe, el plan es copiado automáticamente y ya queda disponible para el usuario. En caso de que no exista, se envía la tarea a la cola Greedy o a la cola PLE según corresponda para que sea tratada cuando el worker esté disponible. En ambos casos, se le muestra al usuario el mensaje de que el plan fue enviado a generar y que se le notificará cuando esté finalizado. En el primer caso, esta notificación es inmediata.


\subsection{Algoritmo Programación Lineal Entera (PLE)}

\subsubsection{Programación Lineal Entera: Qué es y cómo funciona}

La programación lineal es una técnica matemática utilizada en la investigación de operaciones, que permite la optimización de una función objetivo a través de la aplicación de diversas restricciones a sus variables.

Un modelo de Programación Entera es aquel cuya solución óptima tiene sentido solamente si una parte o todas las variables de decisión toman valores restringidos a números enteros, permitiendo incorporar en el modelamiento matemático algunos aspectos que quedan fuera del alcance de los modelos de Programación Lineal.

En este sentido los algoritmos de resolución de los modelos de Programación Entera difieren a los utilizados en los modelos de Programación Lineal, destacándose entre ellos el Algoritmo de Ramificación y Acotamiento (o Branch \& Bound), Branch \& Cut, Planos Cortantes, Relajación Lagrangeana, entre otros.

Los modelos de Programación Entera se pueden clasificar en 2 grandes áreas: Programación Entera Mixta (PEM / MIP) y Programación Entera Pura (PEP / ILP). En el caso del algoritmo que se utilizará en este proyecto, es un algoritmo de Programación Entera Pura.\newline

El primer paso para la resolución de un problema de programación lineal consiste en la identificación de los elementos básicos de un modelo matemático.

\begin{itemize}
	\item Definir el objetivo
	\item Identificar las variables de decisión
	\item Identificar los datos del problema
	\item Identificar la función objetivo
	\item Identificar las restricciones
\end{itemize}

En principio, puede parecer que los problemas lineales enteros son más fáciles de resolver que los continuos, dado que el número de soluciones factibles a analizar, cuando el conjunto de oportunidades está acotado, es finito, éste número suele ser lo suficientemente grande como para que resulte imposible su comparación.\newline

La mayoría de los métodos de resolución comienzan su ejecución con la resolución del problema lineal asociado (PLA) consistente en eliminar las condiciones de integridad, obteniéndose en consecuencia un problema de programación lineal que puede ser resuelto mediante el algoritmo del simplex.

La resolución del PLA en primer lugar, tiene como ventaja que si la solución a dicho problema verifica las condiciones de integridad de las variables, ésa será la solución al problema entero.

Si la solución al PLA no verifica las condiciones de integridad, entonces se requiere utilizar otro método que permita resolver el problema entero.

El solver utilizado es CBC (COIN\footnote{El acrónimo completo es `COIN-OR' (Compuational Infrastructure for Operations Research) Por simplicidad utilizan solamente `COIN'.} Branch and Cut solver). Este solver es open-source desarrollado en C++ para la resolución de problemas de programación entera mixta.

\subsubsection{Branch \& Cut}

El método de Branch \& Cut utiliza dos técnicas:

\begin{itemize}
	\item Cutting Planes (Planos cortantes): Para resolver un problema de progranación lineal entera (PLE), primero se consideran las relajaciones del problema (por lo general una relajación de programación lineal) y repetidamente se `cortan' partes del politopo\footnote{Objeto geométrico con lados planos. Generalización a cualquier dimensión de un polígono bidimensional o un poliedro tridimensional} (agregando nuevas restricciones) con la esperanza de obtener  un solución entera. Para encontrar los planos cortantes se debe resolver la separación del problema (separation problem) que implica encontrar una desigualdad válida del problema de PLE que haya sido violada.
	
	\item Branch \& Bound (Ramificación y Acotamiento): Un árbol enumerado de todas las posibles configuraciones de variables es parcialmente atravesado, computando los límites locales y globales superiores e inferiores, los cuales son usados para evitar partes del árbol que no pueden producir el valor óptimo.

\end{itemize}

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/ejemplo_planos_cortantes.png}\par
\caption{Ejemplo visual de planos cortantes}
\end{figure}

El casco convexo de todos los vectores de incidencia posibles (los puntos verdes en la imagen anterior) forman el problema del politopo P (área en blanco). Si se consideran las desigualdades del problema de PLE, generalmente describen un politopo más grande (área en amarillo), auqnue este politopo no contine un punto entero no factible (puntos rojos).

Si la solución $\bar{x}$ de la relajación PL es integral, corresponde a un vector incidencia factible que representa una solución óptima.

De otra forma, se busca por una inecuación válida $f_x$ $\leq$ $f_0$ que `corta' la solución $\bar{x}$. Por ejemplo,

\begin{equation}
f_y \leq f_0 \forall y \epsilon P
\end{equation}

\begin{equation}
f_{bar{x}} > f_0
\end{equation}

El set \{x $\mid$ $f_x$ = $f_0$\} es llamado plano cortante.

La búsqueda por un plano cortante es llamada la separación del problema. Cualquier plano cortante que es encontrado se agrega al programa lineal y éste es resuelto otra vez.

Hay un tipo especial de planos cortantes en los que se tiene interés, son los nombrados facetas del problema del politopo. Las facetas de un problema de un politopo d-dimensional son facetas de la dimensión (d-1). Éstos son en un sentido los `mejores' planos cortantes  dado que están directamente ligados al problema del poliedro. Por ello, es importante identificar las desigualdades que definen facetas.\newline

Se repite el paso de corte hasta que una solución entera que cumple todas las restricciones es encontrada (la cual resuelve el porblema original de optimización), o hasta que  no es posible encontrar una desigualdad que haya sido violada dentro de las clases de desigualdades válidas.

En este caso de utiliza el branch (ramificación). Esto es, se elige una variable $x_i$ y se resuelven las dos subclases: el caso $x_i$ = 0 y el caso $x_i$ = 1. Esta aplicación repetida produce un árbol enumerado de posibles casos.

Se llama local al límite superior para el problema de PLE, si es obtenido desde un subproblema del árbol.

Si la solución encontrada para un subproblema es factible para el problema original  y tiene el mejor puntaje que cualquier otra solución obtenida hasta el momento, entonces se guarda su valor para ser el nuevo límite global inferior para la función objetivo original.

Como consecuencia, solo se continúa con los subproblemas cuyo límite superior local es mayor o igual al límite global inferior.

El algoritmo Branch \& Cut es un algoritmo de división y conquista que se aproxima a  resolver el problema  dividiéndolo en problemas más pequeños.

\begin{figure}[H]
\centering
\includegraphics[scale=0.4]{Imagenes/diagrama_branch_and_bound.png}\par
\caption{Esquema general del funcionamiento del algoritmo de Branch \& Bound}
\end{figure}

\textbf{Ventajas y Desventajas del Algoritmo}

\begin{itemize}
	\item Por utilizar las restricciones presentes en el PL desde límites inferiores anteriormente generados, se ahorra una gran cantidad de tiempo y de asignaciones de memoria ya que las restricciones no necesitan ser guardadas ni el tableau PL regenerada.
	
	\item Cualquier plano cortante válido presente en el PL de límites inferiores previamente generados, puede ser usado para inicializar el set de restricciones cuando se genera el límite inferior actual. Esto significa que el proceso de enumeración no necesita comenzar desde cero cada vez. Así mismo, cuando se resuelve un nodo, la descripción de la solución del politopo es mejorada por todos los nodos de la búsuqeda del árbol al mismo tiempo.
	
	\item Dado que las restricciones son removidas del tableau PL, pueden necesitar ser regeradas luego en la búsqueda del árbol. También, las resricciones pueden ser removidas demasiado temprano, en cuyo caso el límite inferior puede no ser tan alto como podría haber sido. La ventaja de remover las restricciones es que el tamaño del problema PL es reducido, y con ello, el tiempo para hallar una solución y los requerimientos de memoria son reducidos drasticamente.
	
	\item Cuando un nodo hijo es removido de la lista y el límite inferior es generado, no hay garantía de que el límite inferior generado vaya a ser al menos igual al límite inferior guardado cuando el nodo hijo estaba situado en la lista. Esto sucede porque las restricciones en el problema PL son probablemente diferentes de cuando el nodo estaba guardado. Sin embargo, esto no será el caso usual, ya que las restricciones adicionales de un nodo hijo, comparadas con las del nodo padre, por lo general son más restrictivas.
	
	\item Para problemas grandes, el número de variables en el problema PL pueden se lo suficientemente grandes para hacer el tiempo de solución prohibitivo y con ello, se reduce la efectividad del procedimiento de Branch \& Cut. Consecuentemente, reducir el número de variables 0-1 a través de un preprocesamiento suele ser requerido. 

\end{itemize}

\subsubsection{Algoritmo Desarrollado}

Para el desarrollo del algoritmo, se genera un archivo escrito en Python que hace uso de la librería PuLP para la resolución del problema; en este archivo se agregan las definiciones de las variables, de la función objetivo y de las restricciones que se deben cumplir.

Luego, estos datos son verificados, se identifican las variables igualadas a 0 y se las reemplaza en las ecuaciones, de forma de eliminar todas aquellas variables para las cuales ya se conoce el valor. Luego, todas aquellas restricciones que sean de una variable mayor o igual a cero o una variable menor igual a infinito, son eliminadas ya que son restricciones que se cumplen por la misma naturaleza de la variable.

Una vez que el código está limpio, es ejecutado con el solver CBC. El algoritmo puede determinar tanto que fue compatible (y tener una solución) o ser incompatible.\newline

\textbf{Desarrollo}\newline

Se definen las variables que van a ser utilizadas. Los valores que podrán tomar, dependerán de los parámetros de entrada.\newline

Los cuatrimestres pueden tomar valores entre 1 y MAX\_CUATRIMESTRES.

Los ids de las materias y los cursos, serán los ids de las materias y cursos disponibles para realizar el plan.\newline

Los días disponibles son LUNES, MARTES, MIERCOLES, JUEVES, VIERNES y SABADO. Se pueden haber eliminado algunos días dependiendo de los parámetros de entrada.\newline

Las franjas de horarios van entre FRANJA\_MINIMA y FRANJA\_MAXIMA, que fueron modificadas en base a los horarios de los cursos disponibles. El valor default para ellos son 1 y 33 respectivamente.

\begin{itemize}
	\item Y$_{ij}$ (Y\_\{id materia\}\_\{cuatrimestre\}): La materia con id i se realiza en el cuatrimestre j.

	$Y_{ij}$ $\epsilon$ \{1,0\}


	\item Y\_TP\_FINAL$_{ijk}$ (Y\_TP\_FINAL\_\{id materia\}\_\{codigo materia\}\_\{cuatrimestre\}): La materia de trabajo final con id i y código j se realiza en el cuatrimestre k. Es necesario identificar el código de la materia ya que fue doblada en parte A y B y ambas tienen igual id. 

	Y\_TP\_FINAL$_{ijk}$ $\epsilon$ \{1,0\}


	\item C$_{i}$ (C\_\{id materia\}): Número de cuatrimestre en que se realiza la materia con id i. Si la materia no se realiza vale 0.

	C$_{i}$ $\epsilon$ Z


	\item C\_TP\_FINAL$_{ij}$ (C\_TP\_FINAL\_\{id materia\}\_\{codigo materia\}): Número de cuatrimestre en que se realiza la materia de trabajo final con id i y codigo j.

	 C\_TP\_FINAL$_{ij}$ $\epsilon$ Z
	 
	 
	\item TOTAL\_CUATRIMESTRES: Total del cuatrimestres requeridos para completar el plan.

	TOTAL\_CUATRIMESTRES $\epsilon$ Z


	\item CRED$_{i}$ (CRED\_\{numero de cuatrimestre\}): Cantidad de créditos obtenidos al final del cuatrimestre i.

	CRED$_{i}$ $\epsilon$ Z


	\item H$_{ijk}$ (H\_\{id materia\}\_\{id curso\}\_\{cuatrimestre\}): La materia con id i se cursa en el curso con id j en el cuatrimestre k.

	H$_{ijk}$ $\epsilon$ \{1,0\}
	
	
	\item dia$_{ij}$ (\{dia\}\_\{franja\}\_\{cuatrimestre\}): El día  (LUNES, MARTES, MIERCOLES, JUEVES, VIERNES, SABADO) en la franja horaria i, en el cuatrimestre j se está cursando (en algún curso, no importa cuál).

	dia$_{ij}$ $\epsilon$ \{1,0\}


	\item R$_{mcdfk}$ (R\_\{id materia\}\_\{id curso\}\_\{dia\}\_\{franja\}\_\{cuatrimestre\}): El horario para la materia con id m y el curso con id c, para ese día y esa franja horaria está habilitado (Solo valen 1 aquellos horarios en los que se dicta el curso y sólo en el caso de que se dicte en el cuatrimestre indicado).

	R$_{mcdfk}$ $\epsilon$ \{1,0\}

\end{itemize}

Luego, se define la función objetivo a minimizar. Por el momento, sólo se busca minimizar el total de cuatrimestres, que se encuentra representado con la variable entera: TOTAL\_CUATRIMESTRES.

La primer restricción que tenemos es que la materia se debe cursar en un único cuatrimestre. Además, si la materia es OBLIGATORIA, debe cursarse sí o sí. Por lo que se desprenden dos ecuaciones, una para los ids de materias obligatorias (\ref{eq:suma_obligatorias}) y otra para los ids de materias electivas (\ref{eq:suma_electivas}):

\begin{equation}\label{eq:suma_obligatorias}
\sum_{i} \sum_{j} Y_{ij} = 1 ; \forall i \epsilon \{id\_materia\_obligatoria\}, \forall j \epsilon \{cuatrimestres\}
\end{equation}

\begin{equation}\label{eq:suma_electivas}
\sum_{i} \sum_{j} Y_{ij} \leq 1 ; \forall i \epsilon \{id\_materia\_electiva\}, \forall j \epsilon \{cuatrimestres\}
\end{equation}

Se debe establecer el número de cuatrimestre en que será cursada la materia, por lo que se requiere que para cada cuatrimestre j $\epsilon$ $[1, MAX_CUATRIMESTRES]$ (\ref{eq:numero_cuatrimestre_materias}):

\begin{equation}\label{eq:numero_cuatrimestre_materias}
\sum_{i} j * Y_{ij} = C_{j} ; \forall i \epsilon \{id\_materia\}
\end{equation}

Cuando la materia se cursa, los cuatrimestres de las correlativas deben ser menores. Como no todas las materias se cursan, es necesario agregar un ajuste para cancelar la ecuación cuando la materia no será cursada.

Para toda materia con id i disponible y toda materia m que tiene como correlativa a la materia i:

- Si la materia i es obligatoria y la materia m que la tiene de correlativa es obligatoria (\ref{eq:i_obligatoria_m_obligatoria}):

\begin{equation}\label{eq:i_obligatoria_m_obligatoria}
C_m \geq C_i + 1
\end{equation}

- Si la materia i es obligatoria y la materia m que la tiene de correlativa es electiva (\ref{eq:i_obligatoria_m_electiva}):

\begin{equation}
ajuste\_electiva\_no\_cursada = INFINITO * (1 - \sum_{\forall j} Y_{mj})
\end{equation}

\begin{equation}
j \epsilon [1, MAX\_CUATRIMESTRES]
\end{equation}

\begin{equation}\label{eq:i_obligatoria_m_obligatoria}
C_m + ajuste\_electiva\_no\_cursada \geq C_i + 1
\end{equation}

- Si la materia i es electiva (\ref{eq:i_electiva}):

\begin{equation}
ajuste\_electiva\_no\_cursada = INFINITO * (1 - \sum_{\forall j} Y_{mj})
\end{equation}

\begin{equation}
j \epsilon [1, MAX\_CUATRIMESTRES]
\end{equation}

\begin{equation}\label{eq:i_electiva}
C_m + ajuste\_electiva\_no\_cursada \geq C_i + \sum_{\forall j} Y_{ij}
\end{equation}

\begin{equation}
j \epsilon [1, MAX\_CUATRIMESTRES]
\end{equation}


Para calcular los créditos acumulados, se deben considerar los cŕeditos de las materias obligatorias, electivas y las del trabajo profesional (si corresponde).

El valor de CRED0 será el valor de los créditos acumulados con las materias aprobadas antes de invocar al algoritmo.\newline

Para cada cuatrimestre j $\epsilon$ [1, MAX\_CUATRIMESTRES], con i $\epsilon$ \{id de materia\} y k código de materia de trabajo profesional asociada a i (La sumatoria de las materias del trabajo final solo es agregada si existen materias de este tipo) (\ref{eq:creditos_acumulados}):

\begin{equation}\label{eq:creditos_acumulados}
\sum_{\forall i} Y_{ij} * creditos_i + \sum_{\forall (i,k)} Y\_TP\_FINAL_{ikj} * creditos_{ik} + CRED_{(j-1)} = CRED_j
\end{equation}

Para todas las materias que requieren una cantidad de créditos mínimos para poder ser cursadas, se pide que los creditos acumulados en el cuatrimestre anterior al que se hace la materia sean mayores que los requeridos por la misma.

Así, $\forall$ materia con id i que requiera créditos mínimos para ser cursada, $\forall$ j $\epsilon$ [1, MAX\_CUATRIMESTRES] (\ref{eq:creditos_minimos_cursar}):

\begin{equation}\label{eq:creditos_minimos_cursar}
creditos\_minimos\_aprobados_i * Y_{ij} <= CRED_{(j-1)}
\end{equation}

Se posee una restricción para la cantidad máxima de materias que se pueden realizar por cuatrimestre. Para cada cuatrimestre j $\epsilon$ [1, MAX\_CUATRIMESTRES], con i $\epsilon$ \{id de materia\} y k código de materia de trabajo profesional asociada a i (La sumatoria de las materias del trabajo final solo es agregada si existen materias de este tipo) (\ref{eq:max_cantidad_materias_por_cuatrimestre}):

\begin{equation}\label{eq:max_cantidad_materias_por_cuatrimestre}
\sum_{\forall i} Y_{ij} + \sum_{\forall (i,k)} Y\_TP\_FINAL_{ikj} \leq MAX\_CANT\_MATERIAS\_CUATRIM
\end{equation}

Se restringe además, la máxima cantidad de horas de extra de cursada (\ref{eq:max_horas_extras_cursada}) de la misma manera:

\begin{equation}\label{eq:max_horas_extras_cursada}
\sum_{\forall i} Y_{ij} * horas\_extras_i + \sum_{\forall (i,k)} Y\_TP\_FINAL_{ikj} * horas\_extras_{ik} \leq MAX\_HORAS\_EXTRA
\end{equation}

Para restringir la máxima cantidad de horas de cursada (\ref{eq:max_horas_cursada}) se restringe en base a la variable H que muestra si se está cursando el curso o no. Para cada cuatrimestre j $\epsilon$ [1, MAX\_CUATRIMESTRES]. Con i $\epsilon$ \{id de materia\} y k id de los cursos asociados a la materia i:

\begin{equation}\label{eq:max_horas_cursada}
\sum_{\forall i} \sum_{\forall k} H_{ikj} * horas\_cursada_{ik} \leq MAX\_HORAS\_CURSADA
\end{equation}

Para el cálculo del total de cuatrimestres, que es la función a minimizar se calcula como el máximo de todos los números de cuatrimestres de las diferentes materias (\ref{eq:total_cuatrimestres}). Con i $\epsilon$ \{id de materia\} y k código de materia de trabajo profesional asociada a i (La sumatoria de las materias del trabajo final solo es agregada si existen materias de este tipo):

\begin{equation}\label{eq:total_cuatrimestres}
TOTAL\_CUATRIMESTRES = max(C_1, C_2, ..., C_i, C\_TP\_FINAL_{ik})
\end{equation}

Relacionados a los cursos seleccionados para las materias, se desprenden varias ecuaciones.

Si se elige un curso de una materia, se debe elegir su horario completo (esto es, todas sus franjas horarias) (\ref{eq:si_se_elige_un_curso_es_completo}). Para cada cuatrimestre j; para cada i id de materia; para cada k id de curso que es dictado en el cuatrimestre (algunas cursos de las materias solo se dictan en cuatrimestres pares, otras solo en impares y otras en ambos); para cada día d; para cada franja horaria f entre FRANJA\_MIN y FRANJA\_MAX:

\begin{equation}\label{eq:si_se_elige_un_curso_es_completo}
H_{ikj} = R_{ikdfj}
\end{equation}

No se puede cursar en más de un lugar a la vez (\ref{eq:no_hay_giratiempos}). Para ello, se toma la variable que indica si se está cursando en el día en determinada franja y se lo iguala a la sumatoria de las variables que indican si el curso se está tomando en dicha franja horaria ese día. Como la primera solo puede valer 0 o 1, solo un curso podrá ser cursado en dicha franja. Para cada cuatrimestre j; para cada día d; para cada franja horaria f entre FRANJA\_MIN y FRANJA\_MAX. Con i $\epsilon$ \{id materia\}, y k $\epsilon$ \{id curso para la materia i\}:

\begin{equation}\label{eq:no_hay_giratiempos}
\sum_{\forall i} \sum_{\forall k} R_{ikdfj} = d_{fj}
\end{equation}

Si la materia no se cursa en ese cuatrimestre, entonces no debe cursarse en ninguno de sus cursos para ese cuatrimestre (\ref{eq:si_no_se_cursa_tampoco_sus_cursos}). Para cada cuatrimestre j; para cada i $\epsilon$ \{id materia\}, y k $\epsilon$ \{id curso para la materia i\}:

\begin{equation}\label{eq:si_no_se_cursa_tampoco_sus_cursos}
Y_{ij} \geq H_{ikj}
\end{equation}

La materia deberá ser cursada en un único curso (\ref{eq:materia_se_cursa_en_solo_un_curso}). Para cada cuatrimestre j; para cada i $\epsilon$ \{id materia\}. Con k $\epsilon$ \{id curso para la materia i\}:

\begin{equation}\label{eq:materia_se_cursa_en_solo_un_curso}
\sum_{\forall k} H_{ikj} = Y_{ij}
\end{equation}

No todas las materias se dictan ambos cuatrimestres (\ref{eq:no_toda_materia_se_dicta_siempre}). Por ello, si la materia no es dictada en el cuatrimestre indicado, se iguala a 0 la variable para que no pueda ser elegida. Para cada cuatrimestre j; para cada i $\epsilon$ \{id materia\}; para k $\epsilon$ \{id curso para la materia i\}, cuando la combinación no sea válida ese cuatrimestre:

\begin{equation}\label{eq:no_toda_materia_se_dicta_siempre}
H_{ikj} = 0
\end{equation}

Se deben cumplir una cantidad de créditos mínimos en materias electivas (\ref{eq:minimos_creditos_electivas}). Además, se restringirán las mismas para que no se hagan materias extras (\ref{eq:minimos_creditos_electivas_no_hacer_extras}). Para ello, se limitarán a un máximo de 6 créditos extras (una materia en términos generales) debido a que se pueden elegir algunas materias electivas de 8 créditos o combinaciones similares que sean mejores debido a sus horarios. Solo se agregarán materias si es requerido y no aumenta la cantidad de cuatrimestres, ya que el total de cuatrimestres es el valor que se está minimizando en la función objetivo. Con j cuatrimestre entre 1 y MAX\_CUATRIMESTRES; con i $\epsilon$ \{id materia\}:

\begin{equation}\label{eq:no_toda_materia_se_dicta_siempre}
\sum_{\forall j} \sum_{\forall i} Y_{ij} * creditos_i \geq CREDITOS\_MINIMOS\_ELECTIVAS
\end{equation}

\begin{equation}\label{eq:minimos_creditos_electivas_no_hacer_extras}
\sum_{\forall j} \sum_{\forall i} Y_{ij} * creditos_i \leq CREDITOS\_MINIMOS\_ELECTIVAS + 6
\end{equation}

No todas las materias son comptaibles (\ref{eq:materias_incompatibles}), por ejemplo como sucede con el caso de las materias de idiomas. En este caso, si se elige una materia i que es incompatible con otras materias m, todas las materias m no deben ser cursadas. Para cada materia con id i que tiene materias incompatibles. Con j cuatrimestre entre 1 y MAX\_CUATRIMESTRES; Con m id materia incompatible con i:

\begin{equation}\label{eq:materias_incompatibles}
\sum_{\forall j} (Y_{ij} + \sum_{\forall m} Y_{mj}) \leq 1
\end{equation}

En el caso de que el alumno tenga materias con final pendiente, establecerá en los parámetros en qué cuatrimestre puede ser considerada como aprobada. Con ello, se restringirán a todas las materias con id i que la hayan tenido como correlativa a que su cuatrimestre sea mayor o igual al cuatrimestre posterior a que la correlativa fue aprobada (\ref{eq:cuatrimestre_minimo_materia}) (cuatrimestre mínimo de la materia i).

\begin{equation}\label{eq:cuatrimestre_minimo_materia}
C_i \geq cuatrimestre\_minimo_i
\end{equation}

En el caso de que exista un trabajo final para la carrera, se añaden las restricciones para el mismo.

Cada parte del trabajo final debe cursarse en un único cuatrimestre (\ref{eq:unico_cuatrimestre_tp_final}). Para cada combinación de id i del trabajo final y el código k asociado a éste. Con j cuatrimestre entre 1 y MAX\_CUATRIMESTRES:

\begin{equation}\label{eq:unico_cuatrimestre_tp_final}
\sum_{\forall j} Y\_TP\_FINAL_{ikj} = 1
\end{equation}

El número de cuatrimestre en el que es cursada cada parte del trabajo final se calcula de la siguiente manera (\ref{eq:numero_cuatrimestre_tp_final}). Para cada combinación de id i del trabajo final y el código k asociado a éste. Con j cuatrimestre entre 1 y MAX\_CUATRIMESTRES:

\begin{equation}\label{eq:numero_cuatrimestre_tp_final}
\sum_{\forall j} Y\_TP\_FINAL_{ikj} * j = C\_TP\_FINAL_{ik}
\end{equation}

Para poder cursar las partes del trabajo final, se requieren un mínimo de créditos (\ref{eq:min_creditos_tp_final}). Para cada combinación de id i del trabajo final y el código k asociado a éste; para todo j cuatrimestre entre 1 y MAX\_CUATRIMESTRES:

\begin{equation}\label{eq:min_creditos_tp_final}
creditos\_minimos\_aprobados_{ik} * Y\_TP\_FINAL_{ikj} \leq CRED_{(j-1)}
\end{equation}

Por último, la parte 1 y 2 de la materia del trabajo final i deben realizarse en cuatrimestres consecutivos (\ref{eq:tp_final_cuatrimestres_consecutivos}):

\begin{equation}\label{eq:tp_final_cuatrimestres_consecutivos}
C\_TP\_FINAL_{i\_PARTE\_1} + 1 = C\_TP\_FINAL_{i\_PARTE\_2}
\end{equation}


\subsection{Algoritmo Greddy}

Para este algoritmo se utiliza una combinación de Greedy y Fuerza Fruta. Para el Greedy, se ordenan las materias por un determinado criterio y se las selecciona en orden si éstas encajan con las anteriores. En el caso de que las combinaciones de cursos disponibles sean relativamente pocas, se busca la mejor combinación posible a través de la fuerza bruta con poda. De esta forma se elige la mejor combinación que además permita tener mayores opciones en el cuatrimestre siguiente.\newline

La selección Greedy genera un cuatrimestre válido con las materias disponibles mientras que no se haya finalizado el plan o superado la cantidad máxima de cuatrimestres. Las materias disponibles son una concatencación entre las materias obligatorias, las materias electivas primarias y las electivas secundarias.

Las materias electivas primarias son aquellas que suman créditos para las temáticas solicitadas. Las materias electivas secundarias son aquellas que no suman créditos para las materias de las temáticas elegidas. Si no hay temáticas elegidas, o los créditos por temática han sido cumplidos, todas las materias electivas son primarias.\newline

Las materias obligatorias son ordenadas según:

\begin{itemize}
	\item Menor Horario de finalización
    \item Mayor cantidad de materias que la tienen de correlativa: Cuántas materias libera porque la tienen de correlativa
	\item Mayor cantidad de franjas ocupadas
	\item Mayor puntaje
	\item Mayor cantidad de créditos
	\item Menor código de materia
\end{itemize}

El horario de finalización entre dos materias no es trivial ya que cada materia puede ser dictada en diferentes días y en más de un día, por lo que una materia puede tener menor horario que la otra para algun dia de la semana pero la otra tener más cantidad de horarios que terminen antes, o que se dicten en diferentes cantidades de días, etc. Se decidió que la comparación de horarios sería realizada de la siguiente forma:\newline

La máxima franja de un curso en todos sus dias de cursada comparada con la máxima del otro. Por ejemplo si el curso A se cursa Lunes en las franjas 1 a 15 y Viernes en las franjas 3 a 17 su máxima franja será 17. Si el curso B de cursa los sabados en las franjas 13 a 18, su máxima franja será 18. En este caso el curso A es menor que el curso B, aunque A tenga curso varios dias.

Si ambos tuviesen la misma franja máxima, entonces un curso será menor que otro si se cursa menos días. Por ejemplo, si A y B hubiesen tenido la misma franja máxima, B hubiese sido menor que A ya que se cursa un solo día.

Si cursan la misma cantidad de dias, entonces será menor aquel que para la mayor cantidad de dias tenga menor horario de finalización.\newline

Las materias electivas son ordenadas según:

\begin{itemize}
	\item Menor Horario de finalización
	\item Mayor cantidad de créditos en temáticas (suma sus créditos tantas veces como a temáticas aporte)
	\item Mayor cantidad de créditos
	\item Menor cantidad de horas de cursada
    \item Mayor cantidad de materias que la tienen de correlativa: Cuántas materias libera porque la tienen de correlativa
	\item Mayor puntaje
	\item Menor código de materia
\end{itemize}

Luego, de las materias disponibles se verifica si encaja en los horarios libres. Si encaja (y no es otro curso de una materia ya colocada, no es incompatible con otra ya elegida, etc), se agrega la materia al cuatrimestre actual y se ocupan las franjas horarias correspondientes. Cuando el cuatrimestre está completo porque ya se tienen el máximo de materias u horas establecidas, o ya no hay materias disponibles, se cierra el cuatrimestre y se lo agrega al plan. Para el cuatrimestre siguiente se vuelven a obtener las materias disponibles considerando a las materias agregadas en el último cuatrimestre como aprobadas.

En caso de que se hayan cumplido los créditos requeridos en electivas, las materias de este tipo son eliminadas del conjunto total pendiente para reducir los tiempos de los recorridos en las materias, ya que éstas ya no serán requeridas.

Cuando las combinaciones posibles de los cursos son pocas (en este momento se está utilizando un valor de 15 cursos con 5 materias máximo (15 * 14 * 13 * 12 * 11)), se realiza el algoritmo de Fuerza Bruta con poda.

Éste algoritmo toma las materias disponibles y realiza las combinaciones considerando que se agrega la materia y considerando que no se agrega. Para cada materia disponible se toman las combinaciones anteriores y se hace lo propio.

Cabe destacar que no todas las materias generarán una combinación, ya que no todas pueden ser añadidas por ser incompatibles con las materias agregadas a la combinación anteriormente, por lo que la cantidad de casos se reduce.

De todas las combinaciones generadas se elige la mejor para el cuatrimestre y se la agrega al plan. La mejor combinación se decide en base a:

\begin{itemize}
	\item Mayor cantidad de materias
	\item Mayor cantidad de materias obligatorias que libera
	\item Mayor cantidad de créditos en temáticas cubiertos
	\item Mayor cantidad de créditos en electivas
	\item Mayor cantidad de créditos totales
	\item Menor cantidad de horas de cursada
	\item Menor cantidad de horas extra
\end{itemize}

Durante el desarrollo se realizó el profile del código del algoritmo de generación del plan Greedy, obteniendose un promedio de 150 segundos para el plan completo de licenciatura y un total de 76093034 llamadas a funciones ejecutadas. Las funciones que más tiempo estaban demorando eran las funciones que realizaban copias de los parámetros para la ejecución de la fuerza bruta con poda, éstos parámetros son modificados durante la ejecución del programa por lo que se requiere la copia.

Revisando el código se observó que no solo se copiaban las clases que eran modifcadas (los parámetros y las materias con sus correlativas) sino que además se estaban copiando los cursos y sus horarios. Estos datos no requieren copia ya que no serán modificados, por lo que basta con hacer una copia de la lista de referencias y no del objeto en sí.

Eliminando la copia de esos objetos innecesarios, se obtuvo un promedio de 35 segundos para la misma ejecución del plan de Licenciatura completo, con un total de 12922025 llamadas a funciones ejecutadas.


\subsection{Pruebas}

Para las pruebas se aplicó tanto el algoritmo Greedy como el algoritmo de PLE sobre un set de pruebas realizado con el plan completo de Licenciatura en Análisis de Sistemas (Plan 1986) en el cual se iban dando por aprobadas las materias sugeridas por el plan de estudios oficial. Se excluyó la sección del CBC ya que ésta es tratada de forma independiente del algoritmo. Sobre cada cuatrimestre, se restringió a un máximo de 5, 4, 3 y 2 materias por cuatrimestre respectivamente. Las horas máximas de cursada y de horas extras, se las dejó fijas en 28hs para no afectar a la variable de máxima cantidad de materias por cuatrimestre.

El set de pruebas, fue ejecutado en la misma máquina con la que se hizo el desarrollo de los algoritmos y del sistema, la cual posee las siguientes características. Esta máquina la rotularemos como M1.

\begin{itemize}
	\item CPU: Procesador Intel Core i3-2330M
	\item RAM: 10 GB
\end{itemize}

En particular, para la configuración de la cantidad de threads para el algoritmo de PLE fue seteada en 2 ya que es la cantidad de CPUs que posee.

Los resultados de la ejecución pueden verse en la siguientes tablas:

\begin{longtable}{| c | c | c | c |}
\hline
Total   & Tiempo de & Cantidad de & Max. materias  \\
cuatrimestres &  generación &  Materias disponibles & por cuatrimestre \\
\hline \hline
\endfirsthead
\hline
Total   & Tiempo de & Cantidad de & Max. materias  \\
cuatrimestres &  generación &  Materias disponibles & por cuatrimestre \\
\hline \hline
\endhead
\endfoot
\endlastfoot
2 & 0.69 seg & 21 & 2\\
\hline
4 & 1.99 seg & 25 & 2\\
\hline
7 & 5.41 seg & 30 & 2\\
\hline
10 & 13.91 seg & 35 & 2\\
\hline
12 & 18.91 seg & 39 & 2\\
\hline
13 & 21.59 seg & 42 & 2\\
\hline
15 & 32.49 seg & 45 & 2\\
\hline
2 & 2.07 seg & 21 & 3\\
\hline
3 & 4.79 seg & 25 & 3\\
\hline
5 & 15.16 seg & 30 & 3\\
\hline
7 & 47.31 seg & 35 & 3\\
\hline
8 & 56.28 seg & 39 & 3\\
\hline
9 & 58.43 seg & 42 & 3\\
\hline
10 & 41.74 seg & 45 & 3\\
\hline
2 & 0.04 seg & 21 & 4\\
\hline
3 & 0.38 seg & 25 & 4\\
\hline
5 & 0.89 seg & 30 & 4\\
\hline
5 & 0.56 seg & 35 & 4\\
\hline
7 & 1.87 seg & 39 & 4\\
\hline
8 & 1.80 seg & 42 & 4\\
\hline
9 & 1.26 seg & 45 & 4\\
\hline
1 & 0.01 seg & 21 & 5\\
\hline
3 & 0.02 seg & 25 & 5\\
\hline
4 & 0.03 seg & 30 & 5\\
\hline
5 & 0.03 seg & 35 & 5\\
\hline
8 & 0.17 seg & 39 & 5\\
\hline
9 & 0.11 seg & 42 & 5\\
\hline
10 & 0.14 seg & 45 & 5\\
\hline
\caption{Ejecucion algoritmo GREEDY (M1)}
\end{longtable}

\begin{longtable}{| c | c | c | c |}
\hline
Total   & Tiempo de & Cantidad de & Max. materias  \\
cuatrimestres &  generación &  Materias disponibles & por cuatrimestre \\
\hline \hline
\endfirsthead
\hline
Total   & Tiempo de & Cantidad de & Max. materias  \\
cuatrimestres &  generación &  Materias disponibles & por cuatrimestre \\
\hline \hline
\endhead
\endfoot
\endlastfoot
2 & 13.93 seg & 21 & 2\\
\hline
4 & 21.56 seg & 25 & 2\\
\hline
7 & 28.50 seg & 30 & 2\\
\hline
9 & 1.0 min, 1.55 seg & 35 & 2\\
\hline
11 & 2.0 min, 15.63 seg & 39 & 2\\
\hline
13 & 2.0 min, 44.04 seg & 42 & 2\\
\hline
14 & 11.0 min, 6.16 seg & 45 & 2\\
\hline
2 & 16.22 seg & 21 & 3\\
\hline
3 & 20.57 seg & 25 & 3\\
\hline
5 & 38.09 seg & 30 & 3\\
\hline
6 & 46.32 seg & 35 & 3\\
\hline
8 & 1.0 min, 44.95 seg & 39 & 3\\
\hline
9 & 2.0 min, 45.50 seg & 42 & 3\\
\hline
10 & 9.0 min, 16.35 seg & 45 & 3\\
\hline
1 & 15.28 seg & 21 & 4\\
\hline
3 & 16.23 seg & 25 & 4\\
\hline
4 & 30.50 seg & 30 & 4\\
\hline
5 & 57.21 seg & 35 & 4\\
\hline
6 & 1.0 min, 6.32 seg & 39 & 4\\
\hline
7 & 49.0 min, 17.57 seg & 42 & 4\\
\hline
7 & 7.0 min, 31.78 seg & 45 & 4\\
\hline
1 & 19.96 seg & 21 & 5\\
\hline
2 & 17.25 seg & 25 & 5\\
\hline
3 & 35.20 seg & 30 & 5\\
\hline
4 & 1.0 min, 2.48 seg & 35 & 5\\
\hline
5 & 1.0 min, 7.96 seg & 39 & 5\\
\hline
6 & 4.0 min, 1.08 seg & 42 & 5\\
\hline
7 & 4.0 min, 53.44 seg & 45 & 5\\
\hline
\caption{Ejecucion algoritmo PLE (M1)}
\end{longtable}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_GREEDY_max_cantidad_materias_cuatrimestres.png}\par
\caption{Comparación de tiempos respecto del máximo de materias por cuatrimestre - Algoritmo Greedy - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_max_cantidad_materias_cuatrimestres.png}\par
\caption{Comparación de tiempos respecto del máximo de materias por cuatrimestre - Algoritmo PLE - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_vs_GREEDY_max_mat_5.png}\par
\caption{Comparación de tiempos Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 5 - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_vs_GREEDY_max_mat_4.png}\par
\caption{Comparación de tiempos Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 4 - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_vs_GREEDY_max_mat_3.png}\par
\caption{Comparación de tiempos Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 3 - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_vs_GREEDY_max_mat_2.png}\par
\caption{Comparación de tiempos Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 2 - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_vs_GREEDY_total_cuatrimestres_max_mat_5.png}\par
\caption{Comparación de resultado de cantidad de cuatrimestres Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 5 - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_vs_GREEDY_total_cuatrimestres_max_mat_4.png}\par
\caption{Comparación de resultado de cantidad de cuatrimestres Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 4 - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_vs_GREEDY_total_cuatrimestres_max_mat_3.png}\par
\caption{Comparación de resultado de cantidad de cuatrimestres Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre:3 - Máquina M1}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_PLE_vs_GREEDY_total_cuatrimestres_max_mat_2.png}\par
\caption{Comparación de resultado de cantidad de cuatrimestres Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 2 - Máquina M1}
\end{figure}

Como se puede observar en los gráficos anteriores, el algoritmo se comporta en término generales, tanto en el de PLE y en el algoritmo Greedy, demorando más cuanta mayor cantidad de materias por cuatrimestre hay disponibles. Se produce en ambos algoritmos una rareza cuando está el plan completo vs al plan con un cuatrimestre completo que no se logró determinar a que se debe. Sin embargo, se pudo establecer que no fue un ruido estadístico, sino que es algo que ducede de forma determinística para ese valor, ya que se realizaron varias corridas y siempre arrojó resultados similares.

Luego, se ejecutaron los algoritmos en una máquina virtual con un servidor dedicado con las siguientes características. Esta máquina la rotularemos como M2.

\begin{itemize}
	\item ????????????????????????????????
\end{itemize}

Los resultados de la ejecución pueden verse en la siguientes tablas:

\begin{longtable}{| c | c | c | c |}
\hline
Total   & Tiempo de & Cantidad de & Max. materias  \\
cuatrimestres &  generación &  Materias disponibles & por cuatrimestre \\
\hline \hline
\endfirsthead
\hline
Total   & Tiempo de & Cantidad de & Max. materias  \\
cuatrimestres &  generación &  Materias disponibles & por cuatrimestre \\
\hline \hline
\endhead
\endfoot
\endlastfoot
2 & 0.46 seg & 21 & 2\\
\hline
4 & 1.29 seg & 25 & 2\\
\hline
7 & 3.88 seg & 30 & 2\\
\hline
10 & 10.10 seg & 35 & 2\\
\hline
12 & 13.39 seg & 39 & 2\\
\hline
13 & 15.42 seg & 42 & 2\\
\hline
15 & 23.19 seg & 45 & 2\\
\hline
2 & 1.29 seg & 21 & 3\\
\hline
3 & 3.43 seg & 25 & 3\\
\hline
5 & 10.65 seg & 30 & 3\\
\hline
7 & 33.85 seg & 35 & 3\\
\hline
8 & 41.13 seg & 39 & 3\\
\hline
9 & 42.37 seg & 42 & 3\\
\hline
10 & 29.84 seg & 45 & 3\\
\hline
2 & 0.03 seg & 21 & 4\\
\hline
3 & 0.32 seg & 25 & 4\\
\hline
5 & 0.66 seg & 30 & 4\\
\hline
5 & 0.37 seg & 35 & 4\\
\hline
7 & 1.62 seg & 39 & 4\\
\hline
8 & 1.30 seg & 42 & 4\\
\hline
9 & 0.86 seg & 45 & 4\\
\hline
1 & 0.00 seg & 21 & 5\\
\hline
3 & 0.01 seg & 25 & 5\\
\hline
4 & 0.01 seg & 30 & 5\\
\hline
5 & 0.01 seg & 35 & 5\\
\hline
8 & 0.11 seg & 39 & 5\\
\hline
9 & 0.06 seg & 42 & 5\\
\hline
10 & 0.06 seg & 45 & 5\\
\hline
\caption{Ejecucion algoritmo GREEDY (M2)}
\end{longtable}

\begin{longtable}{| c | c | c | c |}
\hline
Total   & Tiempo de & Cantidad de & Max. materias  \\
cuatrimestres &  generación del plan &  Materias disponibles & por cuatrimestre \\
\hline \hline
\endfirsthead
\hline
Total   & Tiempo de & Cantidad de & Max. materias  \\
cuatrimestres &  generación del plan &  Materias disponibles & por cuatrimestre \\
\hline \hline
\endhead
\endfoot
\endlastfoot
2 & 9.12 seg & 21 & 2\\
\hline
2 & 9.58 seg & 21 & 2\\
\hline
4 & 11.63 seg & 25 & 2\\
\hline
4 & 11.62 seg & 25 & 2\\
\hline
7 & 18.11 seg & 30 & 2\\
\hline
9 & 32.60 seg & 35 & 2\\
\hline
9 & 33.11 seg & 35 & 2\\
\hline
11 & 1.0 min, 11.55 seg & 39 & 2\\
\hline
13 & 50.26 seg & 42 & 2\\
\hline
14 & 3.0 min, 10.80 seg & 45 & 2\\
\hline
2 & 9.39 seg & 21 & 3\\
\hline
3 & 11.76 seg & 25 & 3\\
\hline
5 & 18.74 seg & 30 & 3\\
\hline
6 & 31.46 seg & 35 & 3\\
\hline
8 & 53.88 seg & 39 & 3\\
\hline
9 & 1.0 min, 17.01 seg & 42 & 3\\
\hline
10 & 4.0 min, 11.13 seg & 45 & 3\\
\hline
1 & 9.43 seg & 21 & 4\\
\hline
3 & 10.27 seg & 25 & 4\\
\hline
4 & 17.97 seg & 30 & 4\\
\hline
5 & 32.43 seg & 35 & 4\\
\hline
6 & 34.83 seg & 39 & 4\\
\hline
7 & 12.0 min, 2.54 seg & 42 & 4\\
\hline
7 & 18.0 min, 36.93 seg & 42 & 4\\
\hline
7 & 2.0 min, 48.80 seg & 45 & 4\\
\hline
7 & 3.0 min, 34.30 seg & 45 & 4\\
\hline
1 & 9.88 seg & 21 & 5\\
\hline
2 & 9.98 seg & 25 & 5\\
\hline
3 & 17.82 seg & 30 & 5\\
\hline
4 & 33.74 seg & 35 & 5\\
\hline
5 & 35.61 seg & 39 & 5\\
\hline
6 & 1.0 min, 36.87 seg & 42 & 5\\
\hline
7 & 3.0 min, 14.85 seg & 45 & 5\\
\hline
7 & 3.0 min, 10.57 seg & 45 & 5\\
\hline
\caption{Ejecucion algoritmo PLE (M2)}
\end{longtable}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_GREEDY_max_cantidad_materias_cuatrimestres.png}\par
\caption{Comparación de tiempos respecto del máximo de materias por cuatrimestre - Algoritmo Greedy - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_max_cantidad_materias_cuatrimestres.png}\par
\caption{Comparación de tiempos respecto del máximo de materias por cuatrimestre - Algoritmo PLE - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_vs_GREEDY_max_mat_5.png}\par
\caption{Comparación de tiempos Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 5 - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_vs_GREEDY_max_mat_4.png}\par
\caption{Comparación de tiempos Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 4 - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_vs_GREEDY_max_mat_3.png}\par
\caption{Comparación de tiempos Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 3 - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_vs_GREEDY_max_mat_2.png}\par
\caption{Comparación de tiempos Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 2 - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_vs_GREEDY_total_cuatrimestres_max_mat_5.png}\par
\caption{Comparación de resultado de cantidad de cuatrimestres Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 5 - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_vs_GREEDY_total_cuatrimestres_max_mat_4.png}\par
\caption{Comparación de resultado de cantidad de cuatrimestres Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 4 - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_vs_GREEDY_total_cuatrimestres_max_mat_3.png}\par
\caption{Comparación de resultado de cantidad de cuatrimestres Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre:3 - Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m2_PLE_vs_GREEDY_total_cuatrimestres_max_mat_2.png}\par
\caption{Comparación de resultado de cantidad de cuatrimestres Algoritmo PLE vs. Greedy - Máx. cantidad de materias por cuatrimestre: 2 - Máquina M2}
\end{figure}

Se pueden comparar también los gráficos de tiempos de la ejecución del algoritmo en ambas máquinas (no se realiza la comparación sobre la cantidad de cuatrimestres ya que en ambos casos dan los mismos valores). En ellos, se puede observar que la relación de las líneas del gráfico se mantienen pero que la máquina M2 siempre tiene mejores tiempos que la máquina M1.\newline

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_vs_m2_GREEDY_max_mat_5.png}\par
\caption{Comparación de tiempos Algoritmo Greedy - Máx. cantidad de materias por cuatrimestre: 5 - Máquina M1 vs. Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_vs_m2_GREEDY_max_mat_4.png}\par
\caption{Comparación de tiempos Algoritmo Greedy - Máx. cantidad de materias por cuatrimestre: 4 - Máquina M1 vs. Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_vs_m2_GREEDY_max_mat_3.png}\par
\caption{Comparación de tiempos Algoritmo Greedy - Máx. cantidad de materias por cuatrimestre: 3 - Máquina M1 vs. Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_vs_m2_GREEDY_max_mat_2.png}\par
\caption{Comparación de tiempos Algoritmo Greedy - Máx. cantidad de materias por cuatrimestre: 2 - Máquina M1 vs. Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_vs_m2_max_mat_5.png}\par
\caption{Comparación de tiempos Algoritmo PLE - Máx. cantidad de materias por cuatrimestre: 5 - Máquina M1 vs. Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_vs_m2_max_mat_4.png}\par
\caption{Comparación de tiempos Algoritmo PLE - Máx. cantidad de materias por cuatrimestre: 4 - Máquina M1 vs. Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_vs_m2_max_mat_3.png}\par
\caption{Comparación de tiempos Algoritmo PLE - Máx. cantidad de materias por cuatrimestre: 3 - Máquina M1 vs. Máquina M2}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=0.65]{Imagenes/m1_vs_m2_max_mat_2.png}\par
\caption{Comparación de tiempos Algoritmo PLE - Máx. cantidad de materias por cuatrimestre: 2 - Máquina M1 vs. Máquina M2}
\end{figure}

Para ambos algoritmos, se tuvieron los siguientes máximos en ambas máquinas. Las únicas diferencias fueron respecto de los tiempos que requirieron.\newline

\textbf{Algoritmo Greedy}

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|c|c|}
\hline
Cantidad de materias Disponibles		 		& 	42\\
\hline
Max cantidad de materias por cuatrimestre 		& 	3\\
\hline
Duración del plan (total de cuatrimestres)		& 	9\\
\hline
Tiempo Máquina M1								& 	58.43 segundos\\
\hline
Tiempo Máquina M2 								& 	42.37 segundos\\
\hline
\end{tabular}
\end{center}
\end{table}

\textbf{Algoritmo PLE}

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|c|c|}
\hline
Cantidad de materias Disponibles 				& 	42\\
\hline
Max cantidad de materias por cuatrimestre		& 	4\\
\hline
Duración del plan (total de cuatrimestres)		& 	7\\
\hline
Tiempo Máquina M1								& 	49 minutos, 17.57 segundos\\
\hline
Tiempo Máquina M2								& 	15 minutos, 19.74 segundos\\
\hline
\end{tabular}
\end{center}
\end{table}

De lo observado anteriormente, se puede ver que el algoritmo Greedy demora menos tiempo que el algoritmo de Programación Lineal Entera. Sin embargo, a diferencia del Greedy, el de Programación Lineal Entera tiene siempre el valor óptimo.

A pesar de que el algoritmo Greedy no tiene el valor óptimo el algoritmo es en términos generales (resultado vs. tiempo) muy bueno, ya que en muchos casos da el valor óptimo y en los que no suele tener un cuatrimestre de diferencia. La máxima diferencia de cuatrimestres que da el Greedy respecto del algoritmo de PLE, ha sido de dos cuatrimestres y se da en el caso de todo el plan a completar (o casi todo el plan) y muchas materias por cuatrimestre. Esto se explica porque el algoritmo Greedy no tiene en cuenta los cuatrimestres a futuro en esos casos ya que hay muchas combinaciones posibles de materias. En los casos donde el Greedy realiza fuerza bruta con poda, de todas formas la condición sobre el `futuro' es solo el cuatrimestre inmediato siguiente, y no todos los cuatrimestres futuros.

\newpage
\section{Mejoras y Nuevas Funcionalidades Futuras}

Al ser un proyecto con miras a que los alumnos puedan hacer uso de él y que sea de desarrollo continuo, se tienen varias mejoras y funcionalidades futuras que se desean desarrollar.

Asociado a esto, se ha tenido contacto con algunos alumnos en particular que se han mostrado interesados en poder desarrollar alguna de las funcionalidades un poco más adelante.

Algunas de las funcionalidades y mejoras a futuro son:

\begin{itemize}
	\item Carga de otras carreras de la facultad: En principio se debe evaluar y establecer si requieren ajustes los modelos de datos ya que no todas las carreras mantienen la misma estructura (por ejemplo, algunas carreras deben cumplir con X créditos en materias de otra facultad). Luego, se deberán generar los datos de entrada para poder dar de alta en la base de datos los planes de estudios asociados a ellas.
	
	\item Simultaneidades de carreras: Muchos alumnos obtienen simultaneidades de carreras. En el plan viejo de licenciatura y el plan de ingeniería en informática es algo muy común ya que comparten muchas materias. Se desea poder agregar las tablas de equivalencias para que al aprobar una de por aprobada la equivalente. Se debe tener en cuenta también este dato para las materias habilitadas para cursar y para la generación del plan con dos o más carreras en simultáneo.
	
	\item Excepción de Correlatividades: Poder solicitar las excepciones (generar la nota automática). Llevar registro de las excepciones solicitadas, negadas y/u otorgadas, de manera que las correlatividades tornen en flexibles para aquellas correlativas a las que se haya dado la excepción en la mayoría de los casos.
	
	\item Incorporar un calendario con parciales y otras fechas importantes: El calendario deberá tener fechas importantes como elecciones, inscripciones, etc que sean agregadas por un adminisrador. Por otro lado, también se deberá permitir a los alumnos/docentes subir las fechas de parciales, trabajos prácticos, etc de un curso. En el caso de que sean los alumnos quienes lo agreguen, se realizará una validación por los otros alumnos del curso. Si obtiene un porcentaje suficiente de validaciones, la fecha será agregada. Las fechas importantes deberán ser notificadas al usuario permitiendo configurar el tiempo y el mecanismo utilizado para la comunicación.
	
	\item Superposiciones Horarias: Permitir la verificación de forma sencilla sobre la superposición horaria acorde al plan de estudios diseñado por la facultad, emitiendo el listado de las materias que se superponen en cada cuatrimestre e indicando una solución que sea compatible con los cuatrimestres de oras carreras donde se dicte la materia.
	
	\item Contacto y Mensajería: Permitir la mensajería a través de la plataforma entre los diferentes usuarios. Permitir contactar a los alumnos que se encuentren cursando en el mismo curso que el alumno está isncripto para el cuatrimestre actual, de forma que puedan compartirse notas o hacerse preguntas.
	
	\item Incorporar un rol para usuarios docentes de forma que puedan modificar sus datos personales y agregar contenido/links relacionados a las materias que dictan.

	\item Incorporar un rol administrador de departamento para que cada departamento pueda modificar los horarios que le corresponden a sus cursos asociados y hacer actualziaciones de docentes de manera más efectiva.
	
	\item Permitir agregar calificaciones de trabajos prácticos y parciales a las materias del alumno.
	
	\item Permitir agregar materias no contempladas en el plan (por ejemplo, cuando cursan una materia en otra facultad) y la asignación de créditos (por ejemplo, por materias de intercambio) junto a la resolución correspondiente.
	
	\item Permitir que el usuario agregue su prioridad actual y en base a los cursos que finalmente se ha inscripto, estimar la máxima prioridad con la que alguien se inscribió al curso (estos datos no serán completamente fieles a menos que todos los alumnos con prioridad alta utilicen la aplicación).
	
	\item Hacer un parser de los datos del SIU Guaraní (solicitando usuario y password del mismo cada vez que el usuario quiera hacer uso de esta funcionalidad) para poder sincronizar las materias que ya tiene cargadas en el sistema (y no tener que cargarlas manualmente) y/o para informar en el caso de que hayan materias aprobadas / desaprobadas cargadas en MUSSA y que aún no aparezcan en el SIU.
	
	\item Agregar incompatibilidades conocidas de materias que no se suelen cursar juntas en un mismo cuatrimestre debido a su exigencia y/o dificultad (por ejemplo Organización de Datos y Taller de Programación no suelen ser elegidas para cursarse juntas). Colocar como un parámetro opcional la selección de dichas incompatibilidades.

\end{itemize}


\newpage
\section{Conclusiones}

---------------------- HACER -------------------------

\newpage
\section{Agradecimientos}

A mi familia, que estuvo presente desde la distancia cuando comencé la carrera. En espcial, a mi hermana Lorena que me trajo a Buenos Aires cuando comencé a estudiar en la universidad manejando ambas por la ruta durante esos 2000 kilómetros. A mi hermana Verónica que muchas veces vino a Buenos Aires a visitarme a pesar de que estábamos tan lejos; y a mi hermana Mariel que me dió casa cada vez que podía viajar yo y se levantaba a las 3 de la mañana para buscarme en el aeropuerto.

A mi nueva familia adquirida, que me han acompañado durante este último tramo, en especial a Nico que nos hizo mil y un favores relacionados a la facultad desde que nos mudamos a Irlanda.

A mis amigos y compañeros de facultad, con los que siempre compartí muy buenas experiencias y muchas veces tuvimos que dejar cosas de lado porque `había que estudiar'. En especial a Nicolás, Martín, Ezequiel, Flor y Javier con los que compartí la mayor parte de mi carrera y nos ayudamos mutuamente a avanzar, sé muy bien que sin ellos la carrera no hubiese sido igual.

A todos mis grupos de trabajo profesional antes de este, que se armaron y desarmaron por uno u otro motivo, pero que han sido pasos necesarios para poder finalmente llegar a este punto.

A mis tutores, Rosita y Diego que me acompañaron durante este trabajo. En especial a Diego que siendo su primer tutoría me acompañó y me alentó mucho con sus comentarios y recomendaciones.

A todos los Wachencholdiers los que están y los que estuvieron. Con ustedes compartí miles de experiencias y locuras. Aprendí mucho, me divertí mucho. Me sentí muy acompañada y todos los días los extraño un poco. Estoy orgullosa de haber podido ser parte de este gran equipo, y aún me considero parte aunque ya no pueda estar tan cerca...

A mis alumnos, que me enseñaron a enseñar, a tener paciencia, a tener mejor predisposición y a encontrar mil y un maneras de decir lo mismo. Muchas veces siento que las cosas las aprendí realmente al tener que explicarlas a ustedes.

Y de manera especial, agradezco a mi marido, Ariel Wainer, que ha estado conmigo todo este tiempo, sosteniendome en mis tristezas y compartiendo conmigo mis alegrías. Gracias por haberme mostrado tantas herramientas nuevas y por retarme cuando hacía las cosas mal para que las mejorara, sé que no soy fácil pero me encanta que me enseñes y expliques lo que vos sabes. Esto no hubiese sido posible sin vos.


\newpage
\section{Referencias y Material consultado}

\renewcommand\refname{\small}

\begin{thebibliography}{X}

%Formato: Articulos con DOI asignado:

% Autor(es): apellido(s) e inicial del nombre. Sólo considerar los dos apellidos si son de origen español y están %indicados en el documento a citar 
% Año de publicación entre paréntesis, seguido de punto
% Título del artículo, seguido de punto
% Título de la revista en letra cursiva, seguido de coma

% Volumen en letra cursiva y número entre paréntesis (si está mencionado, sin cursiva), seguido de coma

% Números de páginas de inicio y final, separadas por un guión, seguidos de punto

% Coloca la expresión http://dx.doi.org/ y a continuación el número DOI asignado (ver APA Style Guide to Electronic  References - American Psychological Association, pág. 12)

% Articulos sin DOI asignado

% Autor(es): apellido(s) e inicial del nombre. Sólo considerar los dos apellidos si son de origen español y están indicados en el documento a citar 

% Año de publicación entre paréntesis, seguido de punto

% Título del artículo, seguido de punto

%Título de la revista en letra cursiva, seguido de coma

% Volumen en letra cursiva y número entre paréntesis (si está mencionado, sin cursiva), seguido de coma

% Números de páginas de inicio y final, separadas por un guión, seguidos de punto

% Coloca la expresión Recuperado de, seguida de la dirección electrónica (URL) de la página principal de la revista


% BEGIN Referencia
\bibitem{PLE_HORARIOS_UNIV} Rodrigo Hernandez, Jaime Miranda P. y Pablo A. Rey (2008). Programación de Horarios de Clases y Asignación de Salas para la Facultad de Ingeniería de la Universidad Diego Portales Mediante un Enfoque de Programacion Entera. \textit{Revista Ingeniería de Sistemas}, \textit{Volumen XXII}, páginas 121-141.
Recuperado de: \url{http://www.dii.uchile.cl/ris/RISXXII/horariosUDP_RISVersion%20FINAL.pdf}
% END Referencia


% BEGIN Referencia
\bibitem{MODELOS_PLE}
Enrique Castillo, Antonio J. Conejo, Pablo Pedregal, Ricardo García y Natalia Alguacil (2002). Formulación y Resolución de Modelos de Programación Matemática en Ingeniería y Ciencia. Páginas 461-483.
Recuperado de: \url{http://www.dia.fi.upm.es/~jafernan/teaching/operational-research/LibroCompleto}
% END Referencia


% BEGIN Referencia
\bibitem{PAPER_ROSITA_PLANNING_WITH_PREFERENCES_1}
Jorge A. Baier y Sheila A. McIlraith (2008). Planning with Preferences. \textit{Association for the Advancement of Artificial Intelligence}, \textit{Volumen 29 (4)}, páginas 25-36.
\url{https://doi.org/10.1609/aimag.v29i4.2204}
% END Referencia


% BEGIN Referencia
\bibitem{PAPER_ROSITA_PLANNING_WITH_PREFERENCES_2}Shirin Sohrabi, Jorge A. Baier y Sheila A. McIlraith (2009). HTN Planning with Preferences. \textit{Proceedings of the 21st international jont conference on Artifical intelligence},  páginas 1790-1797.
Recuperado de: \url{https://www.ijcai.org/Proceedings/09/Papers/298.pdf}
% END Referencia


% BEGIN Referencia
\bibitem{PAPER_ROSITA_PLANNING_WITH_PREFERENCES_3} Nan Li, William Cushing, Subbarao Kambhampati y Sungwook Yoon (2014). Learning Probabilistic Hierarchical Task Networks as Probabilistic Context-Free Grammars to Capture User Preferences. \textit{ACM Transactions on Computational Logic}, \textit{Volumen V}, páginas 1-32.
Recuperado de: \url{http://rakaposhi.eas.asu.edu/nan-tist.pdf}
% END Referencia


% BEGIN Referencia
\bibitem{PAPER_ROSITA_PLANNING_WITH_PREFERENCES_4} Nan Li, William Cushing, Subbarao Kambhampati y Sungwook Yoon (2013). Learning Probabilistic Hierarchical Task Networks to Capture User Preferences \textit{Preprint submitted to Artificial Intelligence}, páginas 1-30.
Recuperado de: \url{https://arxiv.org/pdf/1006.0274.pdf}
% END Referencia


% BEGIN Referencia
\bibitem{CLASE_PLE_VALENCIA} Ramón Sala - Garrido (2005). Programación Lineal Entera. \textit{Clase 14}, páginas 1-16.
Recuperado de: \url{https://www.uv.es/~sala/Clase14.pdf}
% END Referencia


% BEGIN Referencia
\bibitem{DIAPOSITIVAS_BRANCH_AND_BOUND} Gunnar Klaus (2008).  \textit{Solving the ILP using branch-and-cut.}
Recuperado de: \url{http://www.mi.fu-berlin.de/wiki/pub/Main/GunnarKlauP1winter0708/discMath_klau_ILP_I.pdf}
% END Referencia


% BEGIN Referencia
\bibitem{BRANCH_AND_BOUND_PAPER} L. Caccetta - S. P. Hill (1999). Branch and Cut Methods for Network Optimization  \textit{PERGAMON. Mathematical and Computer Modelling}, páginas 517-530.
Recuperado de: \url{https://www.sciencedirect.com/science/article/pii/S0895717700002582}
% END Referencia
 

% BEGIN Referencia
\bibitem{INFO_PLE} \textit{Qué es la programación Lineal Entera}

\url{https://www.gestiondeoperaciones.net/programacion-entera/que-es-la-programacion-entera/}
% END Referencia


% BEGIN Referencia
\bibitem{PULP_PYTHON} \textit{<<Linear Programming with Python and PuLP>>}

\textsc{Ben Alex Keen}

\url{http://benalexkeen.com/linear-programming-with-python-and-pulp/}
% END Referencia


% BEGIN Referencia
\bibitem{PULP_DOC_OFICIAL_PYTHON} \textit{<<Optimization with PuLP>>}

\textsc{Stuart Mitchell, Anita Kean, Andrew Mason, Michael O’Sullivan, Antony Phillips}

\url{https://pythonhosted.org/PuLP/}
% END Referencia


% BEGIN Referencia
\bibitem{FLASK_OFICIAL} \textit{<<Flask>>}

\textsc{Armin Ronacher}

\url{http://flask.pocoo.org/}
% END Referencia


% BEGIN Referencia
\bibitem{FLASK_TUTORIAL} \textit{<<The Flask Mega-Tutorial>>}

\textsc{Miguel Grinberg}

\url{https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world}
% END Referencia

% BEGIN Referencia
\bibitem{SQLALCHEMY_OFICIAL} \textit{<<SQLAlchemy>> Python SQL toolkit and Object Relational Mapper}

\url{https://www.sqlalchemy.org/}
% END Referencia

% BEGIN Referencia
\bibitem{FLASK_USER} \textit{<<Flask-User>>}

\textsc{Ling Thio}

\url{https://github.com/lingthio/Flask-User}
% END Referencia


% BEGIN Referencia
\bibitem{BOOTSTRAP} \textit{<<Bootstrap>> Framework desarrollado y liberado por Twitter que tiene como objetivo facilitar el diseño web, permitiendo crear de forma sencilla webs de diseño adaptable.}

\url{https://getbootstrap.com/}
% END Referencia


% BEGIN Referencia
\bibitem{MYSQL} \textit{<<MySQL>> Sistema de gestión de bases de datos relacional}

\url{https://www.mysql.com/}
% END Referencia


% BEGIN Referencia
\bibitem{CELERY} \textit{<<CELERY>> Cola de tareas asincónica open source basada en el pasaje de mensajes distribuido}

\url{http://www.celeryproject.org/}
% END Referencia


% BEGIN Referencia
\bibitem{REDIS} \textit{<<REDIS>> Almacén de estructura de datos de valores de clave en memoria rápido y de código abierto}

\url{https://redis.io/}
% END Referencia


\end{thebibliography}

\end{document}